!function(){AV.Demuxer.extend(function(){AV.Demuxer.register(this),this.probe=function(e){return"fLaC"===e.peekString(0,4)};const e=0,r=3,t=4,a=6,i=34;this.prototype.readChunk=function(){var s=this.stream;if(!this.readHeader&&s.available(4)){if("fLaC"!==s.readString(4))return this.emit("error","Invalid FLAC file.");this.readHeader=!0}for(;s.available(1)&&!this.last;){if(!this.readBlockHeaders){var n=s.readUInt8();this.last=128===(128&n),this.type=127&n,this.size=s.readUInt24()}if(!this.foundStreamInfo&&this.type!==e)return this.emit("error","STREAMINFO must be the first block");if(!s.available(this.size))return;switch(this.type){case e:if(this.foundStreamInfo)return this.emit("error","STREAMINFO can only occur once.");if(this.size!==i)return this.emit("error","STREAMINFO size is wrong.");this.foundStreamInfo=!0;var o=new AV.Bitstream(s),f={minBlockSize:o.read(16),maxBlockSize:o.read(16),minFrameSize:o.read(24),maxFrameSize:o.read(24)};this.format={formatID:"flac",sampleRate:o.read(20),channelsPerFrame:o.read(3)+1,bitsPerChannel:o.read(5)+1},this.emit("format",this.format),this.emit("cookie",f);var l=o.read(36);this.emit("duration",l/this.format.sampleRate*1e3|0),s.advance(16),this.readBlockHeaders=!1;break;case r:for(var d=0;d<this.size/18;d++)if(4294967295==s.peekUInt32(0)&&4294967295==s.peekUInt32(1))s.advance(18);else{s.readUInt32()>0&&this.emit("error","Seek points with sample number >UInt32 not supported");var c=s.readUInt32();s.readUInt32()>0&&this.emit("error","Seek points with stream offset >UInt32 not supported");var h=s.readUInt32();s.advance(2),this.addSeekPoint(h,c)}break;case t:this.metadata||(this.metadata={});var m=s.readUInt32(!0);this.metadata.vendor=s.readString(m);for(var v=s.readUInt32(!0),p=0;v>p;p++){m=s.readUInt32(!0);var u=s.readString(m,"utf8"),b=u.indexOf("=");this.metadata[u.slice(0,b).toLowerCase()]=u.slice(b+1)}break;case a:var _=s.readUInt32();if(3!==_)s.advance(this.size-4);else{var T=s.readUInt32(),y=(s.readString(T),s.readUInt32()),v=(s.readString(y),s.readUInt32(),s.readUInt32(),s.readUInt32(),s.readUInt32(),s.readUInt32()),g=s.readBuffer(v);this.metadata||(this.metadata={}),this.metadata.coverArt=g}break;default:s.advance(this.size),this.readBlockHeaders=!1}this.last&&this.metadata&&this.emit("metadata",this.metadata)}for(;s.available(1)&&this.last;){var w=s.readSingleBuffer(s.remainingBytes());this.emit("data",w)}}}),AV.Decoder.extend(function(){function e(e){for(var r=0,t=0;;){if(t=e>>>24)break;if(r+=8,t=e>>>16,255&t)break;if(r+=8,t=e>>>8,255&t)break;if(r+=8,t=e,255&t)break;return r+=8}return 240&t?t>>>=4:r+=4,8&t?r:4&t?r+1:2&t?r+2:1&t?r+3:r+4}AV.Decoder.register("flac",this),this.prototype.setCookie=function(e){this.cookie=e,this.decoded=[];for(var r=0;r<this.format.channelsPerFrame;r++)this.decoded[r]=new Int32Array(e.maxBlockSize)};const r=new Int16Array([0,192,576,1152,2304,4608,0,0,256,512,1024,2048,4096,8192,16384,32768]),t=new Int32Array([0,88200,176400,192e3,8e3,16e3,22050,24e3,32e3,44100,48e3,96e3,0,0,0,0]),a=new Int8Array([0,8,12,0,16,20,24,0]),i=8,s=0,n=8,o=9,f=10;this.prototype.readChunk=function(){var e=this.bitstream;if(e.available(32)){if(32764!==(32767&e.read(15)))throw new Error("Invalid sync code");var l=(e.read(1),e.read(4)),d=e.read(4),c=e.read(4),h=e.read(3);e.advance(1),this.chMode=c;var m;if(i>c)m=c+1,this.chMode=s;else{if(!(f>=c))throw new Error("Invalid channel mode");m=2}if(m!==this.format.channelsPerFrame)throw new Error("Switching channel layout mid-stream not supported.");if(3===h||7===h)throw new Error("Invalid sample size code");if(this.bps=a[h],this.bps!==this.format.bitsPerChannel)throw new Error("Switching bits per sample mid-stream not supported.");var v,p;this.bps>16?(v=32-this.bps,p=!0):(v=16-this.bps,p=!1);for(var u=0;1===e.read(1);)u++;for(var b=e.read(7-u);u>1;u--)e.advance(2),b=b<<6|e.read(6);if(0===l)throw new Error("Reserved blocksize code");this.blockSize=6===l?e.read(8)+1:7===l?e.read(16)+1:r[l];var _;if(12>d)_=t[d];else if(12===d)_=1e3*e.read(8);else if(13===d)_=e.read(16);else{if(14!==d)throw new Error("Invalid sample rate code");_=10*e.read(16)}e.advance(8);for(var T=0;m>T;T++)this.decodeSubframe(T);e.align(),e.advance(16);var y=new ArrayBuffer(this.blockSize*m*this.bps/8),g=p?new Int32Array(y):new Int16Array(y),w=this.blockSize,E=this.decoded,I=0;switch(this.chMode){case s:for(var A=0;w>A;A++)for(var T=0;m>T;T++)g[I++]=E[T][A]<<v;break;case n:for(var T=0;w>T;T++){var S=E[0][T],O=E[1][T];g[I++]=S<<v,g[I++]=S-O<<v}break;case o:for(var T=0;w>T;T++){var S=E[0][T],O=E[1][T];g[I++]=S+O<<v,g[I++]=O<<v}break;case f:for(var T=0;w>T;T++){var S=E[0][T],O=E[1][T];S-=O>>1,g[I++]=S+O<<v,g[I++]=S<<v}}return g}},this.prototype.decodeSubframe=function(e){var r=0,t=this.bitstream,a=this.blockSize,i=this.decoded;if(this.curr_bps=this.bps,0===e?this.chMode===o&&this.curr_bps++:(this.chMode===n||this.chMode===f)&&this.curr_bps++,t.read(1))throw new Error("Invalid subframe padding");var s=t.read(6);if(t.read(1)){for(r=1;!t.read(1);)r++;this.curr_bps-=r}if(this.curr_bps>32)throw new Error("decorrelated bit depth > 32 ("+this.curr_bps+")");if(0===s)for(var l=t.read(this.curr_bps,!0),d=0;a>d;d++)i[e][d]=l;else if(1===s)for(var c=this.curr_bps,d=0;a>d;d++)i[e][d]=t.read(c,!0);else if(s>=8&&12>=s)this.decode_subframe_fixed(e,-9&s);else{if(!(s>=32))throw new Error("Invalid coding type");this.decode_subframe_lpc(e,(-33&s)+1)}if(r)for(var d=0;a>d;d++)i[e][d]<<=r},this.prototype.decode_subframe_fixed=function(e,r){for(var t=this.decoded[e],a=this.bitstream,i=this.curr_bps,s=0;r>s;s++)t[s]=a.read(i,!0);this.decode_residuals(e,r);var n=0,o=0,f=0,l=0;switch(r>0&&(n=t[r-1]),r>1&&(o=n-t[r-2]),r>2&&(f=o-t[r-2]+t[r-3]),r>3&&(l=f-t[r-2]+2*t[r-3]-t[r-4]),r){case 0:break;case 1:case 2:case 3:case 4:for(var d=new Int32Array([n,o,f,l]),c=this.blockSize,s=r;c>s;s++){d[r-1]+=t[s];for(var h=r-2;h>=0;h--)d[h]+=d[h+1];t[s]=d[0]}break;default:throw new Error("Invalid Predictor Order "+r)}},this.prototype.decode_subframe_lpc=function(e,r){for(var t=this.bitstream,a=this.decoded[e],i=this.curr_bps,s=this.blockSize,n=0;r>n;n++)a[n]=t.read(i,!0);var o=t.read(4)+1;if(16===o)throw new Error("Invalid coefficient precision");var f=t.read(5,!0);if(0>f)throw new Error("Negative qlevel, maybe buggy stream");for(var l=new Int32Array(32),n=0;r>n;n++)l[n]=t.read(o,!0);if(this.decode_residuals(e,r),this.bps>16)throw new Error("no 64-bit integers in JS, could probably use doubles though");for(var n=r;s-1>n;n+=2){for(var d,c=a[n-r],h=0,m=0,v=r-1;v>0;v--)d=l[v],h+=d*c,c=a[n-v],m+=d*c;d=l[0],h+=d*c,c=a[n]+=h>>f,m+=d*c,a[n+1]+=m>>f}if(s>n){for(var p=0,v=0;r>v;v++)p+=l[v]*a[n-v-1];a[n]+=p>>f}};const l=32767;this.prototype.decode_residuals=function(e,r){var t=this.bitstream,a=t.read(2);if(a>1)throw new Error("Illegal residual coding method "+a);var i=t.read(4),s=this.blockSize>>>i;if(r>s)throw new Error("Invalid predictor order "+r+" > "+s);for(var n=this.decoded[e],o=r,f=r,d=0;1<<i>d;d++){var c=t.read(0===a?4:5);if(c===(0===a?15:31))for(c=t.read(5);s>f;f++)n[o++]=t.read(c,!0);else for(;s>f;f++)n[o++]=this.golomb(c,l,0);f=0}};this.prototype.golomb=function(r,t,a){var i=this.bitstream,s=i.bitPosition,n=i.peek(32-s)<<s,o=0,f=31-e(1|n);if(f-r>=7&&t>32-f)n>>>=f-r,n+=30-f<<r,i.advance(32+r-f),o=n;else{for(var l=0;0===i.read(1);l++)n=i.peek(32-s)<<s;t-1>l?(n=r?i.read(r):0,o=n+(l<<r)):l===t-1?(n=i.read(a),o=n+1):o=-1}return o>>1^-(1&o)}})}(),function(){function e(e){this.stream=e,this.sync=!1,this.freerate=0,this.this_frame=e.stream.offset,this.next_frame=e.stream.offset,this.main_data=new Uint8Array(I),this.md_len=0;for(var r in e)"function"==typeof e[r]&&(this[r]=e[r].bind(e))}function r(){this.layer=0,this.mode=0,this.mode_extension=0,this.emphasis=0,this.bitrate=0,this.samplerate=0,this.crc_check=0,this.crc_target=0,this.flags=0,this.private_bits=0}function t(){this.header=null,this.options=0,this.sbsample=a([2,36,32]),this.overlap=a([2,32,18]),this.decoders=[]}function a(e,r){if(r||(r=Float64Array),1===e.length)return new r(e[0]);for(var t=[],i=e[0],s=0;i>s;s++)t[s]=a(e.slice(1),r);return t}function i(){this.filter=a([2,2,2,16,8]),this.phase=0,this.pcm={samplerate:0,channels:0,length:0,samples:[new Float64Array(1152),new Float64Array(1152)]}}function s(){this.allocation=a([2,32],Uint8Array),this.scalefactor=a([2,32],Uint8Array)}function n(){this.samples=new Float64Array(3),this.allocation=a([2,32],Uint8Array),this.scfsi=a([2,32],Uint8Array),this.scalefactor=a([2,32,3],Uint8Array)}function o(e,r,t){this.table=e,this.linbits=r,this.startbits=t}function l(){this.main_data_begin=null,this.private_bits=null,this.gr=[new d,new d],this.scfsi=new Uint8Array(2)}function d(){this.ch=[new c,new c]}function c(){this.part2_3_length=null,this.big_values=null,this.global_gain=null,this.scalefac_compress=null,this.flags=null,this.block_type=null,this.table_select=new Uint8Array(3),this.subblock_gain=new Uint8Array(3),this.region0_count=null,this.region1_count=null,this.scalefac=new Uint8Array(39)}function h(){this.imdct=new wt,this.si=new l,this.xr=[new Float64Array(576),new Float64Array(576)],this._exponents=new Int32Array(39),this.reqcache=new Float64Array(16),this.modes=new Int16Array(39),this.output=new Float64Array(36),this.tmp=a([32,3,6]),this.tmp2=new Float64Array(576)}const m=["latin1","utf16-bom","utf16-be","utf8"];var v=AV.Base.extend({constructor:function(e,r){this.header=e,this.stream=r,this.offset=0},read:function(){if(!this.data){this.data={};for(var e;e=this.readFrame();)e.key in this.data?(Array.isArray(this.data[e.key])||(this.data[e.key]=[this.data[e.key]]),this.data[e.key].push(e.value)):this.data[e.key]=e.value}return this.data},readFrame:function(){if(this.offset>=this.header.length)return null;var e=this.readHeader(),r=e.identifier;if(0===e.identifier.charCodeAt(0))return this.offset+=this.header.length+1,null;if(!this.frameTypes[r])for(var t in this.map)if(-1!==this.map[t].indexOf(r)){r=t;break}if(this.frameTypes[r]){var a=this.decodeFrame(e,this.frameTypes[r]),i=Object.keys(a);1===i.length&&(a=a[i[0]]);var s={value:a}}else var s={value:this.stream.readBuffer(Math.min(e.length,this.header.length-this.offset))};return s.key=this.names[e.identifier]?this.names[e.identifier]:e.identifier,"coverArt"===s.key&&(s.value=s.value.data),this.offset+=10+e.length,s},decodeFrame:function(e,r){var t=this.stream,a=t.offset,i=0,s={},n=Object.keys(r).length,o=0;for(var f in r){var l=r[f],d=e.length-(t.offset-a);switch(o++,f){case"encoding":i=t.readUInt8();continue;case"language":s.language=t.readString(3);continue}switch(l){case"latin1":s[f]=t.readString(o===n?d:null,"latin1");break;case"string":s[f]=t.readString(o===n?d:null,m[i]);break;case"binary":s[f]=t.readBuffer(d);break;case"int16":s[f]=t.readInt16();break;case"int8":s[f]=t.readInt8();break;case"int24":s[f]=t.readInt24();break;case"int32":s[f]=t.readInt32();break;case"int32+":if(s[f]=t.readInt32(),d>4)throw new Error("Seriously dude? Stop playing this song and get a life!");break;case"date":var c=t.readString(8);s[f]=new Date(c.slice(0,4),c.slice(4,6)-1,c.slice(6,8));break;case"frame_id":s[f]=t.readString(4);break;default:throw new Error("Unknown key type "+l)}}var d=e.length-(t.offset-a);return d>0&&t.advance(d),s}}),p=v.extend({readHeader:function(){var e=this.stream.readString(4),r=0;if(4===this.header.major)for(var t=0;4>t;t++)r=(r<<7)+(127&this.stream.readUInt8());else r=this.stream.readUInt32();return{identifier:e,length:r,flags:this.stream.readUInt16()}},map:{text:["TIT1","TIT2","TIT3","TALB","TOAL","TRCK","TPOS","TSST","TSRC","TPE1","TPE2","TPE3","TPE4","TOPE","TEXT","TOLY","TCOM","TMCL","TIPL","TENC","TBPM","TLEN","TKEY","TLAN","TCON","TFLT","TMED","TMOO","TCOP","TPRO","TPUB","TOWN","TRSN","TRSO","TOFN","TDLY","TDEN","TDOR","TDRC","TDRL","TDTG","TSSE","TSOA","TSOP","TSOT","TDAT","TIME","TORY","TRDA","TSIZ","TYER","TCMP","TSO2","TSOC"],url:["WCOM","WCOP","WOAF","WOAR","WOAS","WORS","WPAY","WPUB"]},frameTypes:{text:{encoding:1,value:"string"},url:{value:"latin1"},TXXX:{encoding:1,description:"string",value:"string"},WXXX:{encoding:1,description:"string",value:"latin1"},USLT:{encoding:1,language:1,description:"string",value:"string"},COMM:{encoding:1,language:1,description:"string",value:"string"},APIC:{encoding:1,mime:"latin1",type:"int8",description:"string",data:"binary"},UFID:{owner:"latin1",identifier:"binary"},MCDI:{value:"binary"},PRIV:{owner:"latin1",value:"binary"},GEOB:{encoding:1,mime:"latin1",filename:"string",description:"string",data:"binary"},PCNT:{value:"int32+"},POPM:{email:"latin1",rating:"int8",counter:"int32+"},AENC:{owner:"latin1",previewStart:"int16",previewLength:"int16",encryptionInfo:"binary"},ETCO:{format:"int8",data:"binary"},MLLT:{framesBetweenReference:"int16",bytesBetweenReference:"int24",millisecondsBetweenReference:"int24",bitsForBytesDeviation:"int8",bitsForMillisecondsDev:"int8",data:"binary"},SYTC:{format:"int8",tempoData:"binary"},SYLT:{encoding:1,language:1,format:"int8",contentType:"int8",description:"string",data:"binary"},RVA2:{identification:"latin1",data:"binary"},EQU2:{interpolationMethod:"int8",identification:"latin1",data:"binary"},RVRB:{left:"int16",right:"int16",bouncesLeft:"int8",bouncesRight:"int8",feedbackLL:"int8",feedbackLR:"int8",feedbackRR:"int8",feedbackRL:"int8",premixLR:"int8",premixRL:"int8"},RBUF:{size:"int24",flag:"int8",offset:"int32"},LINK:{identifier:"frame_id",url:"latin1",data:"binary"},POSS:{format:"int8",position:"binary"},USER:{encoding:1,language:1,value:"string"},OWNE:{encoding:1,price:"latin1",purchaseDate:"date",seller:"string"},COMR:{encoding:1,price:"latin1",validUntil:"date",contactURL:"latin1",receivedAs:"int8",seller:"string",description:"string",logoMime:"latin1",logo:"binary"},ENCR:{owner:"latin1",methodSymbol:"int8",data:"binary"},GRID:{owner:"latin1",groupSymbol:"int8",data:"binary"},SIGN:{groupSymbol:"int8",signature:"binary"},SEEK:{value:"int32"},ASPI:{dataStart:"int32",dataLength:"int32",numPoints:"int16",bitsPerPoint:"int8",data:"binary"},IPLS:{encoding:1,value:"string"},RVAD:{adjustment:"int8",bits:"int8",data:"binary"},EQUA:{adjustmentBits:"int8",data:"binary"}},names:{TIT1:"grouping",TIT2:"title",TIT3:"subtitle",TALB:"album",TOAL:"originalAlbumTitle",TRCK:"trackNumber",TPOS:"diskNumber",TSST:"setSubtitle",TSRC:"ISRC",TPE1:"artist",TPE2:"albumArtist",TPE3:"conductor",TPE4:"modifiedBy",TOPE:"originalArtist",TEXT:"lyricist",TOLY:"originalLyricist",TCOM:"composer",TMCL:"musicianCreditsList",TIPL:"involvedPeopleList",TENC:"encodedBy",TBPM:"tempo",TLEN:"length",TKEY:"initialKey",TLAN:"language",TCON:"genre",TFLT:"fileType",TMED:"mediaType",TMOO:"mood",TCOP:"copyright",TPRO:"producedNotice",TPUB:"publisher",TOWN:"fileOwner",TRSN:"internetRadioStationName",TRSO:"internetRadioStationOwner",TOFN:"originalFilename",TDLY:"playlistDelay",TDEN:"encodingTime",TDOR:"originalReleaseTime",TDRC:"recordingTime",TDRL:"releaseTime",TDTG:"taggingTime",TSSE:"encodedWith",TSOA:"albumSortOrder",TSOP:"performerSortOrder",TSOT:"titleSortOrder",TXXX:"userText",USLT:"lyrics",APIC:"coverArt",UFID:"uniqueIdentifier",MCDI:"CDIdentifier",COMM:"comments",WCOM:"commercialInformation",WCOP:"copyrightInformation",WOAF:"officialAudioFileWebpage",WOAR:"officialArtistWebpage",WOAS:"officialAudioSourceWebpage",WORS:"officialInternetRadioStationHomepage",WPAY:"payment",WPUB:"officialPublisherWebpage",WXXX:"url",PRIV:"private",GEOB:"generalEncapsulatedObject",PCNT:"playCount",POPM:"rating",AENC:"audioEncryption",ETCO:"eventTimingCodes",MLLT:"MPEGLocationLookupTable",SYTC:"synchronisedTempoCodes",SYLT:"synchronisedLyrics",RVA2:"volumeAdjustment",EQU2:"equalization",RVRB:"reverb",RBUF:"recommendedBufferSize",LINK:"link",POSS:"positionSynchronisation",USER:"termsOfUse",OWNE:"ownership",COMR:"commercial",ENCR:"encryption",GRID:"groupIdentifier",SIGN:"signature",SEEK:"seek",ASPI:"audioSeekPointIndex",TDAT:"date",TIME:"time",TORY:"originalReleaseYear",TRDA:"recordingDates",TSIZ:"size",TYER:"year",IPLS:"involvedPeopleList",RVAD:"volumeAdjustment",EQUA:"equalization",TCMP:"compilation",TSO2:"albumArtistSortOrder",TSOC:"composerSortOrder"}}),u=p.extend({readHeader:function(){var e=this.stream.readString(3);return this.frameReplacements[e]&&!this.frameTypes[e]&&(this.frameTypes[e]=this.frameReplacements[e]),{identifier:this.replacements[e]||e,length:this.stream.readUInt24()}},replacements:{UFI:"UFID",TT1:"TIT1",TT2:"TIT2",TT3:"TIT3",TP1:"TPE1",TP2:"TPE2",TP3:"TPE3",TP4:"TPE4",TCM:"TCOM",TXT:"TEXT",TLA:"TLAN",TCO:"TCON",TAL:"TALB",TPA:"TPOS",TRK:"TRCK",TRC:"TSRC",TYE:"TYER",TDA:"TDAT",TIM:"TIME",TRD:"TRDA",TMT:"TMED",TFT:"TFLT",TBP:"TBPM",TCR:"TCOP",TPB:"TPUB",TEN:"TENC",TSS:"TSSE",TOF:"TOFN",TLE:"TLEN",TSI:"TSIZ",TDY:"TDLY",TKE:"TKEY",TOT:"TOAL",TOA:"TOPE",TOL:"TOLY",TOR:"TORY",TXX:"TXXX",WAF:"WOAF",WAR:"WOAR",WAS:"WOAS",WCM:"WCOM",WCP:"WCOP",WPB:"WPUB",WXX:"WXXX",IPL:"IPLS",MCI:"MCDI",ETC:"ETCO",MLL:"MLLT",STC:"SYTC",ULT:"USLT",SLT:"SYLT",COM:"COMM",RVA:"RVAD",EQU:"EQUA",REV:"RVRB",GEO:"GEOB",CNT:"PCNT",POP:"POPM",BUF:"RBUF",CRA:"AENC",LNK:"LINK",TST:"TSOT",TSP:"TSOP",TSA:"TSOA",TCP:"TCMP",TS2:"TSO2",TSC:"TSOC"},frameReplacements:{PIC:{encoding:1,format:"int24",type:"int8",description:"string",data:"binary"},CRM:{owner:"latin1",description:"latin1",data:"binary"}}}),b=AV.Demuxer.extend(function(){AV.Demuxer.register(this),this.probe=function(t){var a=t.offset,i=b.getID3v2Header(t);i&&t.advance(10+i.length);var s=new e(new AV.Bitstream(t)),n=null;try{n=r.decode(s)}catch(o){}return t.seek(a),!!n},this.getID3v2Header=function(e){if("ID3"==e.peekString(0,3)){e=AV.Stream.fromBuffer(e.peekBuffer(0,10)),e.advance(3);var r=e.readUInt8(),t=e.readUInt8(),a=e.readUInt8(),i=e.readBuffer(4).data,s=i[0]<<21|i[1]<<14|i[2]<<7|i[3];return{version:"2."+r+"."+t,major:r,minor:t,flags:a,length:s}}return null};const t=[[32,17],[17,9]];this.prototype.parseDuration=function(e){var r,a=this.stream,i=a.offset;if(!e||3!==e.layer)return!1;a.advance(t[e.flags&y.LSF_EXT?1:0][1===e.nchannels()?1:0]);var s=a.readString(4);if("Xing"===s||"Info"===s){var n=a.readUInt32();if(1&n&&(r=a.readUInt32()),2&n)var o=a.readUInt32();if(4&n&&r&&o)for(var f=0;100>f;f++){var l=a.readUInt8(),d=l/256*o|0,c=f/100*r*e.nbsamples()*32|0;this.addSeekPoint(d,c)}8&n&&a.advance(4)}else if(a.seek(i+4+32),s=a.readString(4),"VBRI"==s&&1===a.readUInt16()){a.advance(4),a.advance(4),r=a.readUInt32();for(var h=a.readUInt16(),m=(a.readUInt16(),a.readUInt16()),v=a.readUInt16(),p="readUInt"+8*m,d=0,f=0;h>f;f++)this.addSeekPoint(d,v*f),d+=a[p]()}return r?(this.emit("duration",r*e.nbsamples()*32/e.samplerate*1e3|0),!0):!1},this.prototype.readChunk=function(){var t=this.stream;if(!this.sentInfo){var a=b.getID3v2Header(t);if(a){if(t.advance(10),a.major>2)var i=new p(a,t);else var i=new u(a,t);this.emit("metadata",i.read())}var s=t.offset,n=new e(new AV.Bitstream(t)),o=r.decode(n);if(!o)return this.emit("error","Could not find first frame.");this.emit("format",{formatID:"mp3",sampleRate:o.samplerate,channelsPerFrame:o.nchannels(),bitrate:o.bitrate,floatingPoint:!0});var f=this.parseDuration(o);t.advance(s-t.offset),this.dataSize=0,f||this.on("end",function(){this.emit("duration",8*this.dataSize/o.bitrate*1e3|0)}),this.sentInfo=!0}for(;t.available(1);){var l=t.readSingleBuffer(t.remainingBytes());this.dataSize+=l.length,this.emit("data",l)}}});e.prototype.getU8=function(e){var r=this.stream.stream;return r.peekUInt8(e-r.offset)},e.prototype.nextByte=function(){var e=this.stream;return 0===e.bitPosition?e.stream.offset:e.stream.offset+1},e.prototype.doSync=function(){var e=this.stream.stream;for(this.align();this.available(16)&&(255!==e.peekUInt8(0)||224!==(224&e.peekUInt8(1)));)this.advance(8);return this.available(E)?!0:!1},e.prototype.reset=function(e){this.seek(8*e),this.next_frame=e,this.sync=!0};const _=[[0,32e3,64e3,96e3,128e3,16e4,192e3,224e3,256e3,288e3,32e4,352e3,384e3,416e3,448e3],[0,32e3,48e3,56e3,64e3,8e4,96e3,112e3,128e3,16e4,192e3,224e3,256e3,32e4,384e3],[0,32e3,4e4,48e3,56e3,64e3,8e4,96e3,112e3,128e3,16e4,192e3,224e3,256e3,32e4],[0,32e3,48e3,56e3,64e3,8e4,96e3,112e3,128e3,144e3,16e4,176e3,192e3,224e3,256e3],[0,8e3,16e3,24e3,32e3,4e4,48e3,56e3,64e3,8e4,96e3,112e3,128e3,144e3,16e4]],T=[44100,48e3,32e3],y={NPRIVATE_III:7,INCOMPLETE:8,PROTECTION:16,COPYRIGHT:32,ORIGINAL:64,PADDING:128,I_STEREO:256,MS_STEREO:512,FREEFORMAT:1024,LSF_EXT:4096,MC_EXT:8192,MPEG_2_5_EXT:16384},g={HEADER:256,III:31},w={SINGLE_CHANNEL:0,DUAL_CHANNEL:1,JOINT_STEREO:2,STEREO:3},E=8,I=2567;r.prototype.copy=function(){var e=new r,t=Object.keys(this);for(var a in t)e[a]=this[a];return e},r.prototype.nchannels=function(){return 0===this.mode?1:2},r.prototype.nbsamples=function(){return 1===this.layer?12:3===this.layer&&this.flags&y.LSF_EXT?18:36},r.prototype.framesize=function(){if(0===this.bitrate)return null;var e=this.flags&y.PADDING?1:0;switch(this.layer){case 1:var r=12*this.bitrate/this.samplerate|0;return 4*(r+e);case 2:var r=144*this.bitrate/this.samplerate|0;return r+e;case 3:default:var t=this.flags&y.LSF_EXT?1:0,r=144*this.bitrate/(this.samplerate<<t)|0;return r+e}},r.prototype.decode=function(e){if(this.flags=0,this.private_bits=0,e.advance(11),0===e.read(1)&&(this.flags|=y.MPEG_2_5_EXT),0===e.read(1))this.flags|=y.LSF_EXT;else if(this.flags&y.MPEG_2_5_EXT)throw new AV.UnderflowError;if(this.layer=4-e.read(2),4===this.layer)throw new Error("Invalid layer");0===e.read(1)&&(this.flags|=y.PROTECTION);var r=e.read(4);if(15===r)throw new Error("Invalid bitrate");if(this.bitrate=this.flags&y.LSF_EXT?_[3+(this.layer>>1)][r]:_[this.layer-1][r],r=e.read(2),3===r)throw new Error("Invalid sampling frequency");this.samplerate=T[r],this.flags&y.LSF_EXT&&(this.samplerate/=2,this.flags&y.MPEG_2_5_EXT&&(this.samplerate/=2)),e.read(1)&&(this.flags|=y.PADDING),e.read(1)&&(this.private_bits|=g.HEADER),this.mode=3-e.read(2),this.mode_extension=e.read(2),e.read(1)&&(this.flags|=y.COPYRIGHT),e.read(1)&&(this.flags|=y.ORIGINAL),this.emphasis=e.read(2),this.flags&y.PROTECTION&&(this.crc_target=e.read(16))},r.decode=function(e){for(var t=e.next_frame,a=!0,i=null;a;){if(a=!1,e.sync){if(!e.available(E))throw e.next_frame=t,new AV.UnderflowError;if(255!==e.getU8(t)||224!==(224&e.getU8(t+1)))throw e.this_frame=t,e.next_frame=t+1,new AV.UnderflowError}else{if(e.seek(8*t),!e.doSync())throw new AV.UnderflowError;t=e.nextByte()}e.this_frame=t,e.next_frame=t+1,e.seek(8*e.this_frame),i=new r,i.decode(e),0===i.bitrate&&((0===e.freerate||!e.sync||3===i.layer&&e.freerate>64e4)&&r.free_bitrate(e,i),i.bitrate=e.freerate,i.flags|=y.FREEFORMAT);var s=i.flags&y.PADDING?1:0;if(1===i.layer)var n=4*((12*i.bitrate/i.samplerate<<0)+s);else var o=3===i.layer&&i.flags&y.LSF_EXT?72:144,n=(o*i.bitrate/i.samplerate<<0)+s;if(!e.available(n+E))throw e.next_frame=e.this_frame,new AV.UnderflowError;if(e.next_frame=e.this_frame+n,!e.sync){if(t=e.next_frame,255!==e.getU8(t)||224!==(224&e.getU8(t+1))){t=e.next_frame=e.this_frame+1,a=!0;continue}e.sync=!0}}return i.flags|=y.INCOMPLETE,i},r.free_bitrate=function(e,r){for(var t=r.flags&y.PADDING?1:0,a=3===r.layer&&r.flags&y.LSF_EXT?72:144,i=e.offset(),s=0;e.doSync();){var n=r.copy(),o=e.copy();if(n.decode(o)&&n.layer===r.layer&&n.samplerate===r.samplerate){var f=e.nextByte()-e.this_frame;if(s=1===r.layer?r.samplerate*(f-4*t+4)/48/1e3|0:r.samplerate*(f-t+1)/a/1e3|0,s>=8)break}e.advance(8)}if(e.seek(i),8>s||3===r.layer&&s>640)throw new AV.UnderflowError;e.freerate=1e3*s},t.layers=[],t.prototype.decode=function(e){this.header&&this.header.flags&y.INCOMPLETE||(this.header=r.decode(e)),this.header.flags&=~y.INCOMPLETE;var a=this.decoders[this.header.layer-1];if(!a){var i=t.layers[this.header.layer];if(!i)throw new Error("Layer "+this.header.layer+" is not supported.");a=this.decoders[this.header.layer-1]=new i}a.decode(e,this)};const A=.998795456,S=.995184727,O=.98917651,k=.98078528,P=.970031253,R=.956940336,C=.941544065,U=.923879533,L=.903989293,M=.881921264,D=.85772861,F=.831469612,x=.803207531,N=.773010453,B=.740951125,X=.707106781,z=.671558955,V=.634393284,W=.595699304,G=.555570233,Y=.514102744,q=.471396737,H=.427555093,K=.382683432,j=.336889853,Q=.290284677,J=.24298018,Z=.195090322,$=.146730474,er=.09801714,rr=.049067674;i.dct32=function(e,r,t,a){var i,s,n,o,f,l,d,c,h,m,v,p,u,b,_,T,y,g,w,E,I,tr,ar,ir,sr,nr,or,fr,lr,dr,cr,hr,mr,vr,pr,ur,br,_r,Tr,yr,gr,wr,Er,Ir,Ar,Sr,Or,kr,Pr,Rr,Cr,Ur,Lr,Mr,Dr,Fr,xr,Nr,Br,Xr,zr,Vr,Wr,Gr,Yr,qr,Hr,Kr,jr,Qr,Jr,Zr,$r,et,rt,tt,at,it,st,nt,ot,ft,lt,dt,ct,ht,mt,vt,pt,ut,bt,_t,Tt,yt,gt,wt,Et,It,At,St,Ot,kt,Pt,Rt,Ct,Ut,Lt,Mt,Dt,Ft,xt,Nt,Bt,Xt,zt,Vt,Wt,Gt,Yt,qt,Ht,Kt,jt,Qt,Jt,Zt,$t,ea,ra,ta,aa,ia,sa,na,oa,fa,la,da,ca,ha,ma,va,pa,ua,ba,_a,Ta,ya,ga,wa,Ea,Ia,Aa,Sa,Oa,ka,Pa,Ra,Ca,Ua,La,Ma,Da,Fa,xa,Na,Ba,Xa,za,Va,Wa,Ga,Ya,qa,Ha,Ka,ja;i=e[0]+e[31],y=(e[0]-e[31])*A,s=e[15]+e[16],g=(e[15]-e[16])*rr,wr=y+g,Xr=(y-g)*S,vr=i+s,Cr=(i-s)*S,n=e[7]+e[24],w=(e[7]-e[24])*B,o=e[8]+e[23],E=(e[8]-e[23])*z,Er=w+E,zr=(w-E)*er,pr=n+o,Ur=(n-o)*er,f=e[3]+e[28],I=(e[3]-e[28])*C,l=e[12]+e[19],tr=(e[12]-e[19])*j,Ir=I+tr,Vr=(I-tr)*N,ur=f+l,Lr=(f-l)*N,d=e[4]+e[27],ar=(e[4]-e[27])*L,c=e[11]+e[20],ir=(e[11]-e[20])*H,Ar=ar+ir,Wr=(ar-ir)*V,br=d+c,Mr=(d-c)*V,h=e[1]+e[30],sr=(e[1]-e[30])*O,m=e[14]+e[17],nr=(e[14]-e[17])*$,Sr=sr+nr,Gr=(sr-nr)*R,_r=h+m,Dr=(h-m)*R,v=e[6]+e[25],or=(e[6]-e[25])*x,p=e[9]+e[22],fr=(e[9]-e[22])*W,Or=or+fr,Yr=(or-fr)*Q,Tr=v+p,Fr=(v-p)*Q,u=e[2]+e[29],lr=(e[2]-e[29])*P,b=e[13]+e[18],dr=(e[13]-e[18])*J,kr=lr+dr,qr=(lr-dr)*M,yr=u+b,xr=(u-b)*M,_=e[5]+e[26],cr=(e[5]-e[26])*D,T=e[10]+e[21],hr=(e[10]-e[21])*Y,Pr=cr+hr,Hr=(cr-hr)*q,gr=_+T,Nr=(_-T)*q,Qr=vr+pr,ut=(vr-pr)*k,Jr=ur+br,bt=(ur-br)*Z,Zr=_r+Tr,_t=(_r-Tr)*F,$r=yr+gr,Tt=(yr-gr)*G,et=wr+Er,gt=(wr-Er)*k,rt=Ir+Ar,wt=(Ir-Ar)*Z,tt=Sr+Or,Et=(Sr-Or)*F,at=kr+Pr,It=(kr-Pr)*G,st=Cr+Ur,Ot=(Cr-Ur)*k,nt=Lr+Mr,kt=(Lr-Mr)*Z,ot=Dr+Fr,Pt=(Dr-Fr)*F,ft=xr+Nr,Rt=(xr-Nr)*G,dt=Xr+zr,Lt=(Xr-zr)*k,ct=Vr+Wr,Mt=(Vr-Wr)*Z,ht=Gr+Yr,Dt=(Gr-Yr)*F,mt=qr+Hr,Ft=(qr-Hr)*G,Xt=Qr+Jr,zt=Zr+$r,a[15][r]=Xt+zt,t[0][r]=(Xt-zt)*X,Vt=et+rt,Wt=tt+at,mr=Vt+Wt,a[14][r]=mr,Yt=st+nt,qt=ot+ft,Br=Yt+qt,a[13][r]=Br,Kt=dt+ct,jt=ht+mt,Kr=Kt+jt,Rr=2*Kr-mr,a[12][r]=Rr,Zt=ut+bt,$t=_t+Tt,yt=Zt+$t,a[11][r]=yt,ra=gt+wt,ta=Et+It,At=ra+ta,jr=2*At-Rr,a[10][r]=jr,sa=Ot+kt,na=Pt+Rt,Ct=sa+na,lt=2*Ct-Br,a[9][r]=lt,la=Lt+Mt,da=Dt+Ft,xt=la+da,vt=2*xt-Kr,it=2*vt-jr,a[8][r]=it,va=(Qr-Jr)*U,pa=(Zr-$r)*K,ua=va+pa,a[7][r]=ua,t[8][r]=(va-pa)*X*2-ua,ba=(et-rt)*U,_a=(tt-at)*K,Ta=ba+_a,pt=2*Ta-it,a[6][r]=pt,ga=(st-nt)*U,wa=(ot-ft)*K,Ea=ga+wa,Ut=2*Ea-lt,a[5][r]=Ut,Aa=(dt-ct)*U,Sa=(ht-mt)*K,Oa=Aa+Sa,Nt=2*Oa-vt,St=2*Nt-pt,a[4][r]=St,Ra=(ut-bt)*U,Ca=(_t-Tt)*K,Ua=Ra+Ca,ea=2*Ua-yt,a[3][r]=ea,La=(Zt-$t)*X*2-ea,t[4][r]=La,t[12][r]=2*((Ra-Ca)*X*2-Ua)-La,Ma=(gt-wt)*U,Da=(Et-It)*K,Fa=Ma+Da,aa=2*Fa-At,Bt=2*aa-St,a[2][r]=Bt,xa=(ra-ta)*X*2-aa,Ba=(Ot-kt)*U,Xa=(Pt-Rt)*K,za=Ba+Xa,oa=2*za-Ct,Ht=2*oa-Ut,a[1][r]=Ht,fa=(Yt-qt)*X*2-Ht,t[2][r]=fa,Va=(sa-na)*X*2-oa,Ia=2*Va-fa,t[6][r]=Ia,Wa=2*((ga-wa)*X*2-Ea)-Ia,t[10][r]=Wa,t[14][r]=2*(2*((Ba-Xa)*X*2-za)-Va)-Wa,Ga=(Lt-Mt)*U,Ya=(Dt-Ft)*K,qa=Ga+Ya,ca=2*qa-xt,Qt=2*ca-Nt,ha=(Kt-jt)*X*2-Qt,Gt=2*Qt-Bt,a[0][r]=Gt,Jt=(Vt-Wt)*X*2-Gt,t[1][r]=Jt,ia=2*ha-Jt,t[3][r]=ia,ma=2*xa-ia,t[5][r]=ma,Ha=(la-da)*X*2-ca,ka=2*Ha-ha,ya=2*ka-ma,t[7][r]=ya,Pa=2*((ba-_a)*X*2-Ta)-ya,t[9][r]=Pa,Ka=2*((Aa-Sa)*X*2-Oa)-ka,Na=2*Ka-Pa,t[11][r]=Na,ja=2*(2*((Ma-Da)*X*2-Fa)-xa)-Na,t[13][r]=ja,t[15][r]=2*(2*(2*((Ga-Ya)*X*2-qa)-Ha)-Ka)-ja};const tr=[[0,-442505e-9,.003250122,-.007003784,.031082153,-.07862854,.100311279,-.572036743,1.144989014,.572036743,.100311279,.07862854,.031082153,.007003784,.003250122,442505e-9,0,-442505e-9,.003250122,-.007003784,.031082153,-.07862854,.100311279,-.572036743,1.144989014,.572036743,.100311279,.07862854,.031082153,.007003784,.003250122,442505e-9],[-15259e-9,-473022e-9,.003326416,-.007919312,.030517578,-.084182739,.090927124,-.600219727,1.144287109,.543823242,.108856201,.073059082,.031478882,.006118774,.003173828,396729e-9,-15259e-9,-473022e-9,.003326416,-.007919312,.030517578,-.084182739,.090927124,-.600219727,1.144287109,.543823242,.108856201,.073059082,.031478882,.006118774,.003173828,396729e-9],[-15259e-9,-534058e-9,.003387451,-.008865356,.029785156,-.089706421,.080688477,-.628295898,1.142211914,.515609741,.116577148,.067520142,.031738281,.0052948,.003082275,366211e-9,-15259e-9,-534058e-9,.003387451,-.008865356,.029785156,-.089706421,.080688477,-.628295898,1.142211914,.515609741,.116577148,.067520142,.031738281,.0052948,.003082275,366211e-9],[-15259e-9,-579834e-9,.003433228,-.009841919,.028884888,-.095169067,.069595337,-.656219482,1.138763428,.487472534,.123474121,.06199646,.031845093,.004486084,.002990723,320435e-9,-15259e-9,-579834e-9,.003433228,-.009841919,.028884888,-.095169067,.069595337,-.656219482,1.138763428,.487472534,.123474121,.06199646,.031845093,.004486084,.002990723,320435e-9],[-15259e-9,-62561e-8,.003463745,-.010848999,.027801514,-.100540161,.057617187,-.683914185,1.133926392,.459472656,.129577637,.056533813,.031814575,.003723145,.00289917,289917e-9,-15259e-9,-62561e-8,.003463745,-.010848999,.027801514,-.100540161,.057617187,-.683914185,1.133926392,.459472656,.129577637,.056533813,.031814575,.003723145,.00289917,289917e-9],[-15259e-9,-686646e-9,.003479004,-.011886597,.026535034,-.105819702,.044784546,-.71131897,1.127746582,.431655884,.134887695,.051132202,.031661987,.003005981,.002792358,259399e-9,-15259e-9,-686646e-9,.003479004,-.011886597,.026535034,-.105819702,.044784546,-.71131897,1.127746582,.431655884,.134887695,.051132202,.031661987,.003005981,.002792358,259399e-9],[-15259e-9,-747681e-9,.003479004,-.012939453,.025085449,-.110946655,.031082153,-.738372803,1.120223999,.404083252,.139450073,.045837402,.031387329,.002334595,.002685547,244141e-9,-15259e-9,-747681e-9,.003479004,-.012939453,.025085449,-.110946655,.031082153,-.738372803,1.120223999,.404083252,.139450073,.045837402,.031387329,.002334595,.002685547,244141e-9],[-30518e-9,-808716e-9,.003463745,-.014022827,.023422241,-.115921021,.01651001,-.765029907,1.111373901,.376800537,.143264771,.040634155,.031005859,.001693726,.002578735,213623e-9,-30518e-9,-808716e-9,.003463745,-.014022827,.023422241,-.115921021,.01651001,-.765029907,1.111373901,.376800537,.143264771,.040634155,.031005859,.001693726,.002578735,213623e-9],[-30518e-9,-88501e-8,.003417969,-.01512146,.021575928,-.120697021,.001068115,-.791213989,1.101211548,.349868774,.146362305,.035552979,.030532837,.001098633,.002456665,198364e-9,-30518e-9,-88501e-8,.003417969,-.01512146,.021575928,-.120697021,.001068115,-.791213989,1.101211548,.349868774,.146362305,.035552979,.030532837,.001098633,.002456665,198364e-9],[-30518e-9,-961304e-9,.003372192,-.016235352,.01953125,-.125259399,-.015228271,-.816864014,1.089782715,.323318481,.148773193,.030609131,.029937744,549316e-9,.002349854,167847e-9,-30518e-9,-961304e-9,.003372192,-.016235352,.01953125,-.125259399,-.015228271,-.816864014,1.089782715,.323318481,.148773193,.030609131,.029937744,549316e-9,.002349854,167847e-9],[-30518e-9,-.001037598,.00328064,-.017349243,.01725769,-.129562378,-.03237915,-.841949463,1.07711792,.297210693,.150497437,.025817871,.029281616,30518e-9,.002243042,152588e-9,-30518e-9,-.001037598,.00328064,-.017349243,.01725769,-.129562378,-.03237915,-.841949463,1.07711792,.297210693,.150497437,.025817871,.029281616,30518e-9,.002243042,152588e-9],[-45776e-9,-.001113892,.003173828,-.018463135,.014801025,-.133590698,-.050354004,-.866363525,1.063217163,.271591187,.151596069,.021179199,.028533936,-442505e-9,.002120972,137329e-9,-45776e-9,-.001113892,.003173828,-.018463135,.014801025,-.133590698,-.050354004,-.866363525,1.063217163,.271591187,.151596069,.021179199,.028533936,-442505e-9,.002120972,137329e-9],[-45776e-9,-.001205444,.003051758,-.019577026,.012115479,-.137298584,-.069168091,-.890090942,1.048156738,.246505737,.152069092,.016708374,.02772522,-869751e-9,.00201416,12207e-8,-45776e-9,-.001205444,.003051758,-.019577026,.012115479,-.137298584,-.069168091,-.890090942,1.048156738,.246505737,.152069092,.016708374,.02772522,-869751e-9,.00201416,12207e-8],[-61035e-9,-.001296997,.002883911,-.020690918,.009231567,-.140670776,-.088775635,-.91305542,1.031936646,.221984863,.15196228,.012420654,.02684021,-.001266479,.001907349,106812e-9,-61035e-9,-.001296997,.002883911,-.020690918,.009231567,-.140670776,-.088775635,-.91305542,1.031936646,.221984863,.15196228,.012420654,.02684021,-.001266479,.001907349,106812e-9],[-61035e-9,-.00138855,.002700806,-.021789551,.006134033,-.143676758,-.109161377,-.935195923,1.01461792,.198059082,.151306152,.00831604,.025909424,-.001617432,.001785278,106812e-9,-61035e-9,-.00138855,.002700806,-.021789551,.006134033,-.143676758,-.109161377,-.935195923,1.01461792,.198059082,.151306152,.00831604,.025909424,-.001617432,.001785278,106812e-9],[-76294e-9,-.001480103,.002487183,-.022857666,.002822876,-.146255493,-.130310059,-.956481934,.996246338,.174789429,.150115967,.004394531,.024932861,-.001937866,.001693726,91553e-9,-76294e-9,-.001480103,.002487183,-.022857666,.002822876,-.146255493,-.130310059,-.956481934,.996246338,.174789429,.150115967,.004394531,.024932861,-.001937866,.001693726,91553e-9],[-76294e-9,-.001586914,.002227783,-.023910522,-686646e-9,-.148422241,-.152206421,-.976852417,.976852417,.152206421,.148422241,686646e-9,.023910522,-.002227783,.001586914,76294e-9,-76294e-9,-.001586914,.002227783,-.023910522,-686646e-9,-.148422241,-.152206421,-.976852417,.976852417,.152206421,.148422241,686646e-9,.023910522,-.002227783,.001586914,76294e-9]];
i.prototype.full=function(e,r,t){for(var a,s,n,o=0;r>o;++o)for(var f=e.sbsample[o],l=this.filter[o],d=this.phase,c=this.pcm.samples[o],h=0,m=0,v=0;t>v;++v){i.dct32(f[v],d>>1,l[0][1&d],l[1][1&d]);var p=-2&d,u=d-1&15|1,b=l[0][1&d],_=l[0][1&~d],T=l[1][1&~d],y=0,g=0,w=0;a=0,n=tr[a],_fx=_[g],_fe=b[y],s=_fx[0]*n[u+0],s+=_fx[1]*n[u+14],s+=_fx[2]*n[u+12],s+=_fx[3]*n[u+10],s+=_fx[4]*n[u+8],s+=_fx[5]*n[u+6],s+=_fx[6]*n[u+4],s+=_fx[7]*n[u+2],s=-s,s+=_fe[0]*n[p+0],s+=_fe[1]*n[p+14],s+=_fe[2]*n[p+12],s+=_fe[3]*n[p+10],s+=_fe[4]*n[p+8],s+=_fe[5]*n[p+6],s+=_fe[6]*n[p+4],s+=_fe[7]*n[p+2],c[h++]=s,m=h+30;for(var E=1;16>E;++E)++y,++a,n=tr[a],_fo=T[w],_fe=b[y],s=_fo[0]*n[u+0],s+=_fo[1]*n[u+14],s+=_fo[2]*n[u+12],s+=_fo[3]*n[u+10],s+=_fo[4]*n[u+8],s+=_fo[5]*n[u+6],s+=_fo[6]*n[u+4],s+=_fo[7]*n[u+2],s=-s,s+=_fe[7]*n[p+2],s+=_fe[6]*n[p+4],s+=_fe[5]*n[p+6],s+=_fe[4]*n[p+8],s+=_fe[3]*n[p+10],s+=_fe[2]*n[p+12],s+=_fe[1]*n[p+14],s+=_fe[0]*n[p+0],c[h++]=s,s=_fe[0]*n[-p+31-16],s+=_fe[1]*n[-p+31-14],s+=_fe[2]*n[-p+31-12],s+=_fe[3]*n[-p+31-10],s+=_fe[4]*n[-p+31-8],s+=_fe[5]*n[-p+31-6],s+=_fe[6]*n[-p+31-4],s+=_fe[7]*n[-p+31-2],s+=_fo[7]*n[-u+31-2],s+=_fo[6]*n[-u+31-4],s+=_fo[5]*n[-u+31-6],s+=_fo[4]*n[-u+31-8],s+=_fo[3]*n[-u+31-10],s+=_fo[2]*n[-u+31-12],s+=_fo[1]*n[-u+31-14],s+=_fo[0]*n[-u+31-16],c[m--]=s,++w;++a,n=tr[a],_fo=T[w],s=_fo[0]*n[u+0],s+=_fo[1]*n[u+14],s+=_fo[2]*n[u+12],s+=_fo[3]*n[u+10],s+=_fo[4]*n[u+8],s+=_fo[5]*n[u+6],s+=_fo[6]*n[u+4],s+=_fo[7]*n[u+2],c[h]=-s,h+=16,d=(d+1)%16}},i.prototype.frame=function(e){var r=e.header.nchannels(),t=e.header.nbsamples();this.pcm.samplerate=e.header.samplerate,this.pcm.channels=r,this.pcm.length=32*t,this.full(e,r,t),this.phase=(this.phase+t)%16};const ar=new Float32Array([2,1.587401051968,1.259921049895,1,.793700525984,.629960524947,.5,.396850262992,.314980262474,.25,.198425131496,.157490131237,.125,.099212565748,.078745065618,.0625,.049606282874,.039372532809,.03125,.024803141437,.019686266405,.015625,.012401570719,.009843133202,.0078125,.006200785359,.004921566601,.00390625,.00310039268,.002460783301,.001953125,.00155019634,.00123039165,.0009765625,.00077509817,.000615195825,.00048828125,.000387549085,.000307597913,.000244140625,.000193774542,.000153798956,.000122070313,96887271e-12,76899478e-12,61035156e-12,48443636e-12,38449739e-12,30517578e-12,24221818e-12,1922487e-11,15258789e-12,12110909e-12,9612435e-12,7629395e-12,6055454e-12,4806217e-12,3814697e-12,3027727e-12,2403109e-12,1907349e-12,1513864e-12,1201554e-12,0]),ir=new Uint8Array([4,4,4,4,4,4,6,6,6,8,10,12,16,18,22,28,34,40,46,54,54,192]),sr=new Uint8Array([4,4,4,4,4,4,6,6,8,8,10,12,16,20,24,28,34,42,50,54,76,158]),nr=new Uint8Array([4,4,4,4,4,4,6,6,8,10,12,16,20,24,30,38,46,56,68,84,102,26]),or=new Uint8Array([4,4,4,4,4,4,4,4,4,4,4,4,6,6,6,6,6,6,10,10,10,12,12,12,14,14,14,16,16,16,20,20,20,26,26,26,66,66,66]),fr=new Uint8Array([4,4,4,4,4,4,4,4,4,4,4,4,6,6,6,8,8,8,10,10,10,12,12,12,14,14,14,18,18,18,22,22,22,30,30,30,56,56,56]),lr=new Uint8Array([4,4,4,4,4,4,4,4,4,4,4,4,6,6,6,8,8,8,12,12,12,16,16,16,20,20,20,26,26,26,34,34,34,42,42,42,12,12,12]),dr=new Uint8Array([4,4,4,4,4,4,6,6,4,4,4,6,6,6,6,6,6,10,10,10,12,12,12,14,14,14,16,16,16,20,20,20,26,26,26,66,66,66]),cr=new Uint8Array([4,4,4,4,4,4,6,6,4,4,4,6,6,6,8,8,8,10,10,10,12,12,12,14,14,14,18,18,18,22,22,22,30,30,30,56,56,56]),hr=new Uint8Array([4,4,4,4,4,4,6,6,4,4,4,6,6,6,8,8,8,12,12,12,16,16,16,20,20,20,26,26,26,34,34,34,42,42,42,12,12,12]),mr=new Uint8Array([6,6,6,6,6,6,8,10,12,14,16,18,22,26,32,38,46,54,62,70,76,36]),vr=new Uint8Array([6,6,6,6,6,6,8,10,12,14,16,20,24,28,32,38,46,52,60,68,58,54]),pr=vr,ur=new Uint8Array([4,4,4,4,4,4,4,4,4,6,6,6,8,8,8,10,10,10,12,12,12,14,14,14,18,18,18,24,24,24,32,32,32,44,44,44,12,12,12]),br=new Uint8Array([4,4,4,4,4,4,4,4,4,6,6,6,6,6,6,8,8,8,10,10,10,14,14,14,18,18,18,26,26,26,32,32,32,42,42,42,18,18,18]),_r=new Uint8Array([4,4,4,4,4,4,4,4,4,6,6,6,8,8,8,10,10,10,12,12,12,14,14,14,18,18,18,24,24,24,30,30,30,40,40,40,18,18,18]),Tr=new Uint8Array([6,6,6,6,6,6,6,6,6,8,8,8,10,10,10,12,12,12,14,14,14,18,18,18,24,24,24,32,32,32,44,44,44,12,12,12]),yr=new Uint8Array([6,6,6,6,6,6,6,6,6,6,6,6,8,8,8,10,10,10,14,14,14,18,18,18,26,26,26,32,32,32,42,42,42,18,18,18]),gr=new Uint8Array([6,6,6,6,6,6,6,6,6,8,8,8,10,10,10,12,12,12,14,14,14,18,18,18,24,24,24,30,30,30,40,40,40,18,18,18]),wr=pr,Er=wr,Ir=new Uint8Array([12,12,12,12,12,12,16,20,24,28,32,40,48,56,64,76,90,2,2,2,2,2]),Ar=_r,Sr=Ar,Or=new Uint8Array([8,8,8,8,8,8,8,8,8,12,12,12,16,16,16,20,20,20,24,24,24,28,28,28,36,36,36,2,2,2,2,2,2,2,2,2,26,26,26]),kr=gr,Pr=kr,Rr=new Uint8Array([12,12,12,4,4,4,8,8,8,12,12,12,16,16,16,20,20,20,24,24,24,28,28,28,36,36,36,2,2,2,2,2,2,2,2,2,26,26,26]),Cr=[{l:ir,s:or,m:dr},{l:sr,s:fr,m:cr},{l:nr,s:lr,m:hr},{l:mr,s:ur,m:Tr},{l:vr,s:br,m:yr},{l:pr,s:_r,m:gr},{l:wr,s:Ar,m:kr},{l:Er,s:Sr,m:Pr},{l:Ir,s:Or,m:Rr}],Ur=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0]),Lr=new Float32Array([.59460355750136,.70710678118655,.84089641525371,1,1.18920711500272,1.4142135623731,1.68179283050743]),Mr=new Float32Array([.857492926,.881741997,.949628649,.983314592,.995517816,.999160558,.999899195,.999993155]),Dr=new Float32Array([-.514495755,-.471731969,-.313377454,-.1819132,-.094574193,-.040965583,-.014198569,-.003699975]),Fr=1,xr=2,Nr=4,Br=8,Xr=1,zr=2,Vr=new Float32Array([.043619387,.130526192,.216439614,.3007058,.382683432,.461748613,.537299608,.608761429,.675590208,.737277337,.79335334,.843391446,.887010833,.923879533,.953716951,.976296007,.991444861,.999048222,.999048222,.991444861,.976296007,.953716951,.923879533,.887010833,.843391446,.79335334,.737277337,.675590208,.608761429,.537299608,.461748613,.382683432,.3007058,.216439614,.130526192,.043619387]),Wr=new Float32Array([.130526192,.382683432,.608761429,.79335334,.923879533,.991444861,.991444861,.923879533,.79335334,.608761429,.382683432,.130526192]),Gr=new Float32Array([0,.211324865,.366025404,.5,.633974596,.788675135,1]),Yr=[new Float32Array([.840896415,.707106781,.594603558,.5,.420448208,.353553391,.297301779,.25,.210224104,.176776695,.148650889,.125,.105112052,.088388348,.074325445]),new Float32Array([.707106781,.5,.353553391,.25,.176776695,.125,.088388348,.0625,.044194174,.03125,.022097087,.015625,.011048543,.0078125,.005524272])],qr=[{slen1:0,slen2:0},{slen1:0,slen2:1},{slen1:0,slen2:2},{slen1:0,slen2:3},{slen1:3,slen2:0},{slen1:1,slen2:1},{slen1:1,slen2:2},{slen1:1,slen2:3},{slen1:2,slen2:1},{slen1:2,slen2:2},{slen1:2,slen2:3},{slen1:3,slen2:1},{slen1:3,slen2:2},{slen1:3,slen2:3},{slen1:4,slen2:2},{slen1:4,slen2:3}],Hr=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];t.layers[1]=s;const Kr=new Float32Array([1.33333333333333,1.14285714285714,1.06666666666667,1.03225806451613,1.01587301587302,1.00787401574803,1.00392156862745,1.00195694716243,1.00097751710655,1.00048851978505,1.0002442002442,1.00012208521548,1.00006103888177,1.00003051850948]);s.prototype.decode=function(e,r){var t=r.header,a=t.nchannels(),i=32;t.mode===w.JOINT_STEREO&&(t.flags|=y.I_STEREO,i=4+4*t.mode_extension),t.flags&y.PROTECTION;for(var s=this.allocation,n=0;i>n;n++)for(var o=0;a>o;o++){var f=e.read(4);if(15===f)throw new Error("forbidden bit allocation value");s[o][n]=f?f+1:0}for(var n=i;32>n;n++){var f=e.read(4);if(15===f)throw new Error("forbidden bit allocation value");s[0][n]=s[1][n]=f?f+1:0}for(var l=this.scalefactor,n=0;32>n;n++)for(var o=0;a>o;o++)s[o][n]&&(l[o][n]=e.read(6));for(var d=0;12>d;d++){for(var n=0;i>n;n++)for(var o=0;a>o;o++){var f=s[o][n];r.sbsample[o][d][n]=f?this.sample(e,f)*ar[l[o][n]]:0}for(var n=i;32>n;n++){var f=s[0][n];if(f)for(var c=this.sample(e,f),o=0;a>o;o++)r.sbsample[o][d][n]=c*ar[l[o][n]];else for(var o=0;a>o;o++)r.sbsample[o][d][n]=0}}},s.prototype.sample=function(e,r){var t=e.read(r);return t^=1<<r-1,t|=-(t&1<<r-1),t/=1<<r-1,t+=1>>r-1,t*Kr[r-2]},t.layers[2]=n;const jr=[{sblimit:27,offsets:[7,7,7,6,6,6,6,6,6,6,6,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0]},{sblimit:30,offsets:[7,7,7,6,6,6,6,6,6,6,6,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0]},{sblimit:8,offsets:[5,5,2,2,2,2,2,2]},{sblimit:12,offsets:[5,5,2,2,2,2,2,2,2,2,2,2]},{sblimit:30,offsets:[4,4,4,4,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}],Qr=[{nbal:2,offset:0},{nbal:2,offset:3},{nbal:3,offset:3},{nbal:3,offset:1},{nbal:4,offset:2},{nbal:4,offset:3},{nbal:4,offset:4},{nbal:4,offset:5}],Jr=[[0,1,16],[0,1,2,3,4,5,16],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],[0,1,3,4,5,6,7,8,9,10,11,12,13,14,15],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,16],[0,2,4,5,6,7,8,9,10,11,12,13,14,15,16]],Zr=[{nlevels:3,group:2,bits:5,C:1.33333333333,D:.5},{nlevels:5,group:3,bits:7,C:1.6,D:.5},{nlevels:7,group:0,bits:3,C:1.14285714286,D:.25},{nlevels:9,group:4,bits:10,C:1.77777777777,D:.5},{nlevels:15,group:0,bits:4,C:1.06666666666,D:.125},{nlevels:31,group:0,bits:5,C:1.03225806452,D:.0625},{nlevels:63,group:0,bits:6,C:1.01587301587,D:.03125},{nlevels:127,group:0,bits:7,C:1.00787401575,D:.015625},{nlevels:255,group:0,bits:8,C:1.00392156863,D:.0078125},{nlevels:511,group:0,bits:9,C:1.00195694716,D:.00390625},{nlevels:1023,group:0,bits:10,C:1.00097751711,D:.001953125},{nlevels:2047,group:0,bits:11,C:1.00048851979,D:.0009765625},{nlevels:4095,group:0,bits:12,C:1.00024420024,D:.00048828125},{nlevels:8191,group:0,bits:13,C:1.00012208522,D:.00024414063},{nlevels:16383,group:0,bits:14,C:1.00006103888,D:.00012207031},{nlevels:32767,group:0,bits:15,C:1.00003051851,D:6103516e-11},{nlevels:65535,group:0,bits:16,C:1.00001525902,D:3051758e-11}];n.prototype.decode=function(e,r){var t,a=r.header,i=a.nchannels();if(a.flags&y.LSF_EXT)t=4;else if(a.flags&y.FREEFORMAT)t=48e3===a.samplerate?0:1;else{var s=a.bitrate;if(2===i)s/=2;else if(s>192e3)throw new Error("bad bitrate/mode combination");t=48e3>=s?32e3===a.samplerate?3:2:8e4>=s?0:48e3===a.samplerate?0:1}var n=jr[t].sblimit,o=jr[t].offsets,f=32;a.mode===w.JOINT_STEREO&&(a.flags|=y.I_STEREO,f=4+4*a.mode_extension),f>n&&(f=n);for(var l=this.allocation,d=0;f>d;d++)for(var c=Qr[o[d]].nbal,h=0;i>h;h++)l[h][d]=e.read(c);for(var d=f;n>d;d++){var c=Qr[o[d]].nbal;l[0][d]=l[1][d]=e.read(c)}for(var m=this.scfsi,d=0;n>d;d++)for(var h=0;i>h;h++)l[h][d]&&(m[h][d]=e.read(2));a.flags&y.PROTECTION;for(var v=this.scalefactor,d=0;n>d;d++)for(var h=0;i>h;h++)if(l[h][d]){switch(v[h][d][0]=e.read(6),m[h][d]){case 2:v[h][d][2]=v[h][d][1]=v[h][d][0];break;case 0:v[h][d][1]=e.read(6);case 1:case 3:v[h][d][2]=e.read(6)}1&m[h][d]&&(v[h][d][1]=v[h][d][m[h][d]-1])}for(var p=0;12>p;p++){for(var d=0;f>d;d++)for(var h=0;i>h;h++)if(t=l[h][d]){t=Jr[Qr[o[d]].offset][t-1],this.decodeSamples(e,Zr[t]);for(var u=ar[v[h][d][p>>2]],b=0;3>b;b++)r.sbsample[h][3*p+b][d]=this.samples[b]*u}else for(var b=0;3>b;b++)r.sbsample[h][3*p+b][d]=0;for(var d=f;n>d;d++)if(t=l[0][d]){t=Jr[Qr[o[d]].offset][t-1],this.decodeSamples(e,Zr[t]);for(var h=0;i>h;h++)for(var u=ar[v[h][d][p>>2]],b=0;3>b;b++)r.sbsample[h][3*p+b][d]=this.samples[b]*u}else for(var h=0;i>h;h++)for(var b=0;3>b;b++)r.sbsample[h][3*p+b][d]=0;for(var h=0;i>h;h++)for(var b=0;3>b;b++)for(var d=n;32>d;d++)r.sbsample[h][3*p+b][d]=0}},n.prototype.decodeSamples=function(e,r){var t=this.samples,a=r.group;if(a)for(var i=e.read(r.bits),s=r.nlevels,n=0;3>n;n++)t[n]=i%s,i=i/s|0;else{a=r.bits;for(var n=0;3>n;n++)t[n]=e.read(a)}for(var n=0;3>n;n++){var o=t[n]^1<<a-1;o|=-(o&1<<a-1),o/=1<<a-1,t[n]=(o+r.D)*r.C}};var $r=function(e,r){return{"final":0,ptr:{bits:r,offset:e}}},et=function(e,r,t,a,i){return{"final":1,value:{v:e,w:r,x:t,y:a,hlen:i}}};const rt=[$r(16,2),$r(20,2),$r(24,1),$r(26,1),et(0,0,1,0,4),et(0,0,0,1,4),et(0,1,0,0,4),et(1,0,0,0,4),et(0,0,0,0,1),et(0,0,0,0,1),et(0,0,0,0,1),et(0,0,0,0,1),et(0,0,0,0,1),et(0,0,0,0,1),et(0,0,0,0,1),et(0,0,0,0,1),et(1,0,1,1,2),et(1,1,1,1,2),et(1,1,0,1,2),et(1,1,1,0,2),et(0,1,1,1,2),et(0,1,0,1,2),et(1,0,0,1,1),et(1,0,0,1,1),et(0,1,1,0,1),et(0,0,1,1,1),et(1,0,1,0,1),et(1,1,0,0,1)],tt=[et(1,1,1,1,4),et(1,1,1,0,4),et(1,1,0,1,4),et(1,1,0,0,4),et(1,0,1,1,4),et(1,0,1,0,4),et(1,0,0,1,4),et(1,0,0,0,4),et(0,1,1,1,4),et(0,1,1,0,4),et(0,1,0,1,4),et(0,1,0,0,4),et(0,0,1,1,4),et(0,0,1,0,4),et(0,0,0,1,4),et(0,0,0,0,4)];var at=function(e,r,t){return{"final":1,value:{x:e,y:r,hlen:t}}};const it=[at(0,0,0)],st=[at(1,1,3),at(0,1,3),at(1,0,2),at(1,0,2),at(0,0,1),at(0,0,1),at(0,0,1),at(0,0,1)],nt=[$r(8,3),at(1,1,3),at(0,1,3),at(1,0,3),at(0,0,1),at(0,0,1),at(0,0,1),at(0,0,1),at(2,2,3),at(0,2,3),at(1,2,2),at(1,2,2),at(2,1,2),at(2,1,2),at(2,0,2),at(2,0,2)],ot=[$r(8,3),at(1,0,3),at(1,1,2),at(1,1,2),at(0,1,2),at(0,1,2),at(0,0,2),at(0,0,2),at(2,2,3),at(0,2,3),at(1,2,2),at(1,2,2),at(2,1,2),at(2,1,2),at(2,0,2),at(2,0,2)],ft=[$r(8,4),at(1,1,3),at(0,1,3),at(1,0,3),at(0,0,1),at(0,0,1),at(0,0,1),at(0,0,1),$r(24,1),at(3,2,4),at(3,1,3),at(3,1,3),at(1,3,4),at(0,3,4),at(3,0,4),at(2,2,4),at(1,2,3),at(1,2,3),at(2,1,3),at(2,1,3),at(0,2,3),at(0,2,3),at(2,0,3),at(2,0,3),at(3,3,1),at(2,3,1)],lt=[$r(16,3),$r(24,1),$r(26,1),at(1,2,4),at(2,1,4),at(2,0,4),at(0,1,3),at(0,1,3),at(1,1,2),at(1,1,2),at(1,1,2),at(1,1,2),at(1,0,3),at(1,0,3),at(0,0,3),at(0,0,3),at(3,3,3),at(0,3,3),at(2,3,2),at(2,3,2),at(3,2,2),at(3,2,2),at(3,0,2),at(3,0,2),at(1,3,1),at(3,1,1),at(2,2,1),at(0,2,1)],dt=[$r(16,4),$r(32,4),$r(48,2),at(1,1,4),at(0,1,3),at(0,1,3),at(1,0,3),at(1,0,3),at(0,0,1),at(0,0,1),at(0,0,1),at(0,0,1),at(0,0,1),at(0,0,1),at(0,0,1),at(0,0,1),$r(52,2),$r(56,1),$r(58,1),at(1,5,4),at(5,1,4),$r(60,1),at(5,0,4),$r(62,1),at(2,4,4),at(4,2,4),at(1,4,3),at(1,4,3),at(4,1,3),at(4,1,3),at(4,0,3),at(4,0,3),at(0,4,4),at(2,3,4),at(3,2,4),at(0,3,4),at(1,3,3),at(1,3,3),at(3,1,3),at(3,1,3),at(3,0,3),at(3,0,3),at(2,2,3),at(2,2,3),at(1,2,2),at(1,2,2),at(1,2,2),at(1,2,2),at(2,1,1),at(2,1,1),at(0,2,2),at(2,0,2),at(5,5,2),at(4,5,2),at(5,4,2),at(5,3,2),at(3,5,1),at(4,4,1),at(2,5,1),at(5,2,1),at(0,5,1),at(3,4,1),at(4,3,1),at(3,3,1)],ct=[$r(16,4),$r(32,4),at(1,2,4),at(2,1,4),at(1,1,2),at(1,1,2),at(1,1,2),at(1,1,2),at(0,1,3),at(0,1,3),at(1,0,3),at(1,0,3),at(0,0,2),at(0,0,2),at(0,0,2),at(0,0,2),$r(48,3),$r(56,2),$r(60,1),at(1,5,4),at(5,1,4),$r(62,1),$r(64,1),at(2,4,4),at(4,2,4),at(1,4,4),at(4,1,3),at(4,1,3),at(0,4,4),at(4,0,4),at(2,3,4),at(3,2,4),at(1,3,4),at(3,1,4),at(0,3,4),at(3,0,4),at(2,2,2),at(2,2,2),at(2,2,2),at(2,2,2),at(0,2,2),at(0,2,2),at(0,2,2),at(0,2,2),at(2,0,2),at(2,0,2),at(2,0,2),at(2,0,2),at(5,5,3),at(5,4,3),at(4,5,2),at(4,5,2),at(5,3,1),at(5,3,1),at(5,3,1),at(5,3,1),at(3,5,2),at(4,4,2),at(2,5,1),at(2,5,1),at(5,2,1),at(0,5,1),at(3,4,1),at(4,3,1),at(5,0,1),at(3,3,1)],ht=[$r(16,4),$r(32,3),$r(40,2),$r(44,2),$r(48,1),at(1,2,4),at(2,1,4),at(2,0,4),at(1,1,3),at(1,1,3),at(0,1,3),at(0,1,3),at(1,0,3),at(1,0,3),at(0,0,3),at(0,0,3),$r(50,1),at(3,5,4),at(5,3,4),$r(52,1),at(4,4,4),at(2,5,4),at(5,2,4),at(1,5,4),at(5,1,3),at(5,1,3),at(3,4,3),at(3,4,3),at(4,3,3),at(4,3,3),at(5,0,4),at(0,4,4),at(2,4,3),at(4,2,3),at(3,3,3),at(4,0,3),at(1,4,2),at(1,4,2),at(4,1,2),at(4,1,2),at(2,3,2),at(3,2,2),at(1,3,1),at(1,3,1),at(3,1,1),at(3,1,1),at(0,3,2),at(3,0,2),at(2,2,1),at(0,2,1),at(5,5,1),at(4,5,1),at(5,4,1),at(0,5,1)],mt=[$r(16,4),$r(32,4),$r(48,2),at(1,1,4),at(0,1,3),at(0,1,3),at(1,0,3),at(1,0,3),at(0,0,1),at(0,0,1),at(0,0,1),at(0,0,1),at(0,0,1),at(0,0,1),at(0,0,1),at(0,0,1),$r(52,3),$r(60,2),$r(64,3),$r(72,1),$r(74,2),$r(78,2),$r(82,2),at(1,7,4),at(7,1,4),$r(86,1),$r(88,2),$r(92,2),at(1,6,4),at(6,1,4),at(6,0,4),$r(96,1),$r(98,1),$r(100,1),at(1,4,4),at(4,1,4),at(4,0,4),at(2,3,4),at(3,2,4),at(0,3,4),at(1,3,3),at(1,3,3),at(3,1,3),at(3,1,3),at(3,0,3),at(3,0,3),at(2,2,3),at(2,2,3),at(1,2,2),at(2,1,2),at(0,2,2),at(2,0,2),at(7,7,3),at(6,7,3),at(7,6,3),at(5,7,3),at(7,5,3),at(6,6,3),at(4,7,2),at(4,7,2),at(7,4,2),at(5,6,2),at(6,5,2),at(3,7,2),at(7,3,2),at(7,3,2),at(4,6,2),at(4,6,2),at(5,5,3),at(5,4,3),at(6,3,2),at(6,3,2),at(2,7,1),at(7,2,1),at(6,4,2),at(0,7,2),at(7,0,1),at(7,0,1),at(6,2,1),at(6,2,1),at(4,5,2),at(3,5,2),at(0,6,1),at(0,6,1),at(5,3,2),at(4,4,2),at(3,6,1),at(2,6,1),at(2,5,2),at(5,2,2),at(1,5,1),at(1,5,1),at(5,1,1),at(5,1,1),at(3,4,2),at(4,3,2),at(0,5,1),at(5,0,1),at(2,4,1),at(4,2,1),at(3,3,1),at(0,4,1)],vt=[$r(16,4),$r(32,4),$r(48,4),$r(64,3),at(1,2,4),$r(72,1),at(1,1,3),at(1,1,3),at(0,1,3),at(0,1,3),at(1,0,3),at(1,0,3),at(0,0,2),at(0,0,2),at(0,0,2),at(0,0,2),$r(74,2),$r(78,3),$r(86,2),$r(90,1),$r(92,2),at(2,7,4),at(7,2,4),$r(96,1),at(7,1,3),at(7,1,3),at(1,7,4),at(7,0,4),at(3,6,4),at(6,3,4),at(6,0,4),$r(98,1),$r(100,1),at(1,5,4),at(6,2,3),at(6,2,3),at(2,6,4),at(0,6,4),at(1,6,3),at(1,6,3),at(6,1,3),at(6,1,3),at(5,1,4),at(3,4,4),at(5,0,4),$r(102,1),at(2,4,4),at(4,2,4),at(1,4,4),at(4,1,4),at(0,4,4),at(4,0,4),at(2,3,3),at(2,3,3),at(3,2,3),at(3,2,3),at(1,3,2),at(1,3,2),at(1,3,2),at(1,3,2),at(3,1,2),at(3,1,2),at(3,1,2),at(3,1,2),at(0,3,3),at(3,0,3),at(2,2,2),at(2,2,2),at(2,1,1),at(2,1,1),at(2,1,1),at(2,1,1),at(0,2,1),at(2,0,1),at(7,7,2),at(6,7,2),at(7,6,2),at(7,5,2),at(6,6,2),at(6,6,2),at(4,7,2),at(4,7,2),at(7,4,2),at(7,4,2),at(5,7,3),at(5,5,3),at(5,6,2),at(6,5,2),at(3,7,1),at(3,7,1),at(7,3,1),at(4,6,1),at(4,5,2),at(5,4,2),at(3,5,2),at(5,3,2),at(6,4,1),at(0,7,1),at(4,4,1),at(2,5,1),at(5,2,1),at(0,5,1),at(4,3,1),at(3,3,1)],pt=[$r(16,4),$r(32,4),$r(48,4),$r(64,2),$r(68,3),$r(76,1),at(1,2,4),at(2,1,4),$r(78,1),at(0,0,4),at(1,1,3),at(1,1,3),at(0,1,3),at(0,1,3),at(1,0,3),at(1,0,3),$r(80,2),$r(84,1),$r(86,1),$r(88,1),at(5,6,4),at(3,7,4),$r(90,1),at(2,7,4),at(7,2,4),at(4,6,4),at(6,4,4),at(1,7,4),at(7,1,4),$r(92,1),at(3,6,4),at(6,3,4),at(4,5,4),at(5,4,4),at(4,4,4),$r(94,1),at(2,6,3),at(2,6,3),at(6,2,3),at(6,2,3),at(6,1,3),at(6,1,3),at(1,6,4),at(6,0,4),at(3,5,4),at(5,3,4),at(2,5,4),at(5,2,4),at(1,5,3),at(1,5,3),at(5,1,3),at(5,1,3),at(3,4,3),at(3,4,3),at(4,3,3),at(4,3,3),at(5,0,4),at(0,4,4),at(2,4,3),at(2,4,3),at(4,2,3),at(4,2,3),at(1,4,3),at(1,4,3),at(3,3,2),at(4,1,2),at(2,3,2),at(3,2,2),at(4,0,3),at(0,3,3),at(3,0,2),at(3,0,2),at(1,3,1),at(1,3,1),at(1,3,1),at(1,3,1),at(3,1,1),at(2,2,1),at(0,2,1),at(2,0,1),at(7,7,2),at(6,7,2),at(7,6,1),at(7,6,1),at(5,7,1),at(7,5,1),at(6,6,1),at(4,7,1),at(7,4,1),at(6,5,1),at(7,3,1),at(5,5,1),at(0,7,1),at(7,0,1),at(0,6,1),at(0,5,1)],ut=[$r(16,4),$r(32,4),$r(48,4),$r(64,2),at(1,1,4),at(0,1,4),at(1,0,3),at(1,0,3),at(0,0,1),at(0,0,1),at(0,0,1),at(0,0,1),at(0,0,1),at(0,0,1),at(0,0,1),at(0,0,1),$r(68,4),$r(84,4),$r(100,4),$r(116,4),$r(132,4),$r(148,4),$r(164,3),$r(172,3),$r(180,3),$r(188,3),$r(196,3),$r(204,3),$r(212,1),$r(214,2),$r(218,3),$r(226,1),$r(228,2),$r(232,2),$r(236,2),$r(240,2),at(8,1,4),$r(244,1),$r(246,1),$r(248,1),$r(250,2),$r(254,1),at(1,5,4),at(5,1,4),$r(256,1),$r(258,1),$r(260,1),at(1,4,4),at(4,1,3),at(4,1,3),at(0,4,4),at(4,0,4),at(2,3,4),at(3,2,4),at(1,3,3),at(1,3,3),at(3,1,3),at(3,1,3),at(0,3,3),at(0,3,3),at(3,0,3),at(3,0,3),at(2,2,3),at(2,2,3),at(1,2,2),at(2,1,2),at(0,2,2),at(2,0,2),$r(262,4),$r(278,4),$r(294,4),$r(310,3),$r(318,2),$r(322,2),$r(326,3),$r(334,2),$r(338,1),$r(340,2),$r(344,2),$r(348,2),$r(352,2),$r(356,2),at(1,15,4),at(15,1,4),at(15,0,4),$r(360,1),$r(362,1),$r(364,1),at(14,2,4),$r(366,1),at(1,14,4),at(14,1,4),$r(368,1),$r(370,1),$r(372,1),$r(374,1),$r(376,1),$r(378,1),at(12,6,4),at(3,13,4),$r(380,1),at(2,13,4),at(13,2,4),at(1,13,4),at(11,7,4),$r(382,1),$r(384,1),at(12,3,4),$r(386,1),at(4,11,4),at(13,1,3),at(13,1,3),at(0,13,4),at(13,0,4),at(8,10,4),at(10,8,4),at(4,12,4),at(12,4,4),at(6,11,4),at(11,6,4),at(3,12,3),at(3,12,3),at(2,12,3),at(2,12,3),at(12,2,3),at(12,2,3),at(5,11,3),at(5,11,3),at(11,5,4),at(8,9,4),at(1,12,3),at(1,12,3),at(12,1,3),at(12,1,3),at(9,8,4),at(0,12,4),at(12,0,3),at(12,0,3),at(11,4,4),at(6,10,4),at(10,6,4),at(7,9,4),at(3,11,3),at(3,11,3),at(11,3,3),at(11,3,3),at(8,8,4),at(5,10,4),at(2,11,3),at(2,11,3),at(10,5,4),at(6,9,4),at(10,4,3),at(10,4,3),at(7,8,4),at(8,7,4),at(9,4,3),at(9,4,3),at(7,7,4),at(7,6,4),at(11,2,2),at(11,2,2),at(11,2,2),at(11,2,2),at(1,11,2),at(1,11,2),at(11,1,2),at(11,1,2),at(0,11,3),at(11,0,3),at(9,6,3),at(4,10,3),at(3,10,3),at(10,3,3),at(5,9,3),at(9,5,3),at(2,10,2),at(2,10,2),at(10,2,2),at(10,2,2),at(1,10,2),at(1,10,2),at(10,1,2),at(10,1,2),at(0,10,3),at(6,8,3),at(10,0,2),at(10,0,2),at(8,6,3),at(4,9,3),at(9,3,2),at(9,3,2),at(3,9,3),at(5,8,3),at(8,5,3),at(6,7,3),at(2,9,2),at(2,9,2),at(9,2,2),at(9,2,2),at(5,7,3),at(7,5,3),at(3,8,2),at(3,8,2),at(8,3,2),at(8,3,2),at(6,6,3),at(4,7,3),at(7,4,3),at(5,6,3),at(6,5,3),at(7,3,3),at(1,9,1),at(9,1,1),at(0,9,2),at(9,0,2),at(4,8,2),at(8,4,2),at(7,2,2),at(7,2,2),at(4,6,3),at(6,4,3),at(2,8,1),at(2,8,1),at(2,8,1),at(2,8,1),at(8,2,1),at(1,8,1),at(3,7,2),at(2,7,2),at(1,7,1),at(1,7,1),at(7,1,1),at(7,1,1),at(5,5,2),at(0,7,2),at(7,0,2),at(3,6,2),at(6,3,2),at(4,5,2),at(5,4,2),at(2,6,2),at(6,2,2),at(3,5,2),at(0,8,1),at(8,0,1),at(1,6,1),at(6,1,1),at(0,6,1),at(6,0,1),at(5,3,2),at(4,4,2),at(2,5,1),at(2,5,1),at(5,2,1),at(0,5,1),at(3,4,1),at(4,3,1),at(5,0,1),at(2,4,1),at(4,2,1),at(3,3,1),$r(388,3),at(15,15,4),at(14,15,4),at(13,15,4),at(14,14,4),at(12,15,4),at(13,14,4),at(11,15,4),at(15,11,4),at(12,14,4),at(13,12,4),$r(396,1),at(14,12,3),at(14,12,3),at(13,13,3),at(13,13,3),at(15,10,4),at(12,13,4),at(11,14,3),at(11,14,3),at(14,11,3),at(14,11,3),at(9,15,3),at(9,15,3),at(15,9,3),at(15,9,3),at(14,10,3),at(14,10,3),at(11,13,3),at(11,13,3),at(13,11,3),at(13,11,3),at(8,15,3),at(8,15,3),at(15,8,3),at(15,8,3),at(12,12,3),at(12,12,3),at(10,14,4),at(9,14,4),at(8,14,3),at(8,14,3),at(7,15,4),at(7,14,4),at(15,7,2),at(15,7,2),at(15,7,2),at(15,7,2),at(13,10,2),at(13,10,2),at(10,13,3),at(11,12,3),at(12,11,3),at(15,6,3),at(6,15,2),at(6,15,2),at(14,8,2),at(5,15,2),at(9,13,2),at(13,9,2),at(15,5,2),at(14,7,2),at(10,12,2),at(11,11,2),at(4,15,2),at(4,15,2),at(15,4,2),at(15,4,2),at(12,10,3),at(14,6,3),at(15,3,2),at(15,3,2),at(3,15,1),at(3,15,1),at(8,13,2),at(13,8,2),at(2,15,1),at(15,2,1),at(6,14,2),at(9,12,2),at(0,15,1),at(0,15,1),at(12,9,2),at(5,14,2),at(10,11,1),at(10,11,1),at(7,13,2),at(13,7,2),at(4,14,1),at(4,14,1),at(12,8,2),at(13,6,2),at(3,14,1),at(3,14,1),at(11,9,1),at(11,9,1),at(9,11,2),at(10,10,2),at(11,10,1),at(14,5,1),at(14,4,1),at(8,12,1),at(6,13,1),at(14,3,1),at(2,14,1),at(0,14,1),at(14,0,1),at(5,13,1),at(13,5,1),at(7,12,1),at(12,7,1),at(4,13,1),at(8,11,1),at(11,8,1),at(13,4,1),at(9,10,1),at(10,9,1),at(6,12,1),at(13,3,1),at(7,11,1),at(5,12,1),at(12,5,1),at(9,9,1),at(7,10,1),at(10,7,1),at(9,7,1),at(15,14,3),at(15,12,3),at(15,13,2),at(15,13,2),at(14,13,1),at(14,13,1),at(14,13,1),at(14,13,1),at(10,15,1),at(14,9,1)],bt=[$r(16,4),$r(32,4),$r(48,4),$r(64,4),$r(80,4),$r(96,3),$r(104,3),$r(112,2),$r(116,1),$r(118,1),at(1,1,3),at(1,1,3),at(0,1,4),at(1,0,4),at(0,0,3),at(0,0,3),$r(120,4),$r(136,4),$r(152,4),$r(168,4),$r(184,4),$r(200,3),$r(208,3),$r(216,4),$r(232,3),$r(240,3),$r(248,3),$r(256,3),$r(264,2),$r(268,3),$r(276,3),$r(284,2),$r(288,2),$r(292,2),$r(296,2),$r(300,2),$r(304,2),$r(308,2),$r(312,2),$r(316,2),$r(320,1),$r(322,1),$r(324,1),$r(326,2),$r(330,1),$r(332,1),$r(334,2),$r(338,1),$r(340,1),$r(342,1),at(9,1,4),$r(344,1),$r(346,1),$r(348,1),$r(350,1),$r(352,1),at(2,8,4),at(8,2,4),at(1,8,4),at(8,1,4),$r(354,1),$r(356,1),$r(358,1),$r(360,1),at(2,7,4),at(7,2,4),at(6,4,4),at(1,7,4),at(5,5,4),at(7,1,4),$r(362,1),at(3,6,4),at(6,3,4),at(4,5,4),at(5,4,4),at(2,6,4),at(6,2,4),at(1,6,4),$r(364,1),at(3,5,4),at(6,1,3),at(6,1,3),at(5,3,4),at(4,4,4),at(2,5,3),at(2,5,3),at(5,2,3),at(5,2,3),at(1,5,3),at(1,5,3),at(5,1,3),at(5,1,3),at(0,5,4),at(5,0,4),at(3,4,3),at(3,4,3),at(4,3,3),at(2,4,3),at(4,2,3),at(3,3,3),at(4,1,2),at(4,1,2),at(1,4,3),at(0,4,3),at(2,3,2),at(2,3,2),at(3,2,2),at(3,2,2),at(4,0,3),at(0,3,3),at(1,3,2),at(1,3,2),at(3,1,2),at(3,0,2),at(2,2,1),at(2,2,1),at(1,2,1),at(2,1,1),at(0,2,1),at(2,0,1),$r(366,1),$r(368,1),at(14,14,4),$r(370,1),$r(372,1),$r(374,1),at(15,11,4),$r(376,1),at(13,13,4),at(10,15,4),at(15,10,4),at(11,14,4),at(14,11,4),at(12,13,4),at(13,12,4),at(9,15,4),at(15,9,4),at(14,10,4),at(11,13,4),at(13,11,4),at(8,15,4),at(15,8,4),at(12,12,4),at(9,14,4),at(14,9,4),at(7,15,4),at(15,7,4),at(10,13,4),at(13,10,4),at(11,12,4),at(6,15,4),$r(378,1),at(12,11,3),at(12,11,3),at(15,6,3),at(15,6,3),at(8,14,4),at(14,8,4),at(5,15,4),at(9,13,4),at(15,5,3),at(15,5,3),at(7,14,3),at(7,14,3),at(14,7,3),at(14,7,3),at(10,12,3),at(10,12,3),at(12,10,3),at(12,10,3),at(11,11,3),at(11,11,3),at(13,9,4),at(8,13,4),at(4,15,3),at(4,15,3),at(15,4,3),at(15,4,3),at(3,15,3),at(3,15,3),at(15,3,3),at(15,3,3),at(13,8,3),at(13,8,3),at(14,6,3),at(14,6,3),at(2,15,3),at(2,15,3),at(15,2,3),at(15,2,3),at(6,14,4),at(15,0,4),at(1,15,3),at(1,15,3),at(15,1,3),at(15,1,3),at(9,12,3),at(9,12,3),at(12,9,3),at(12,9,3),at(5,14,3),at(10,11,3),at(11,10,3),at(14,5,3),at(7,13,3),at(13,7,3),at(4,14,3),at(14,4,3),at(8,12,3),at(12,8,3),at(3,14,3),at(6,13,3),at(13,6,3),at(14,3,3),at(9,11,3),at(11,9,3),at(2,14,3),at(2,14,3),at(10,10,3),at(10,10,3),at(14,2,3),at(14,2,3),at(1,14,3),at(1,14,3),at(14,1,3),at(14,1,3),at(0,14,4),at(14,0,4),at(5,13,3),at(5,13,3),at(13,5,3),at(13,5,3),at(7,12,3),at(12,7,3),at(4,13,3),at(8,11,3),at(13,4,2),at(13,4,2),at(11,8,3),at(9,10,3),at(10,9,3),at(6,12,3),at(12,6,3),at(3,13,3),at(13,3,2),at(13,3,2),at(13,2,2),at(13,2,2),at(2,13,3),at(0,13,3),at(1,13,2),at(1,13,2),at(7,11,2),at(7,11,2),at(11,7,2),at(11,7,2),at(13,1,2),at(13,1,2),at(5,12,3),at(13,0,3),at(12,5,2),at(12,5,2),at(8,10,2),at(8,10,2),at(10,8,2),at(4,12,2),at(12,4,2),at(6,11,2),at(11,6,2),at(11,6,2),at(9,9,3),at(0,12,3),at(3,12,2),at(3,12,2),at(12,3,2),at(12,3,2),at(7,10,2),at(7,10,2),at(10,7,2),at(10,7,2),at(10,6,2),at(10,6,2),at(12,0,3),at(0,11,3),at(12,2,1),at(12,2,1),at(2,12,2),at(5,11,2),at(11,5,2),at(1,12,2),at(8,9,2),at(9,8,2),at(12,1,2),at(4,11,2),at(11,4,2),at(6,10,2),at(3,11,2),at(7,9,2),at(11,3,1),at(11,3,1),at(9,7,2),at(8,8,2),at(2,11,2),at(5,10,2),at(11,2,1),at(11,2,1),at(10,5,2),at(1,11,2),at(11,1,1),at(11,1,1),at(11,0,2),at(6,9,2),at(9,6,2),at(4,10,2),at(10,4,2),at(7,8,2),at(8,7,2),at(3,10,2),at(10,3,1),at(10,3,1),at(5,9,1),at(9,5,1),at(2,10,1),at(10,2,1),at(1,10,1),at(10,1,1),at(0,10,2),at(10,0,2),at(6,8,1),at(6,8,1),at(8,6,1),at(4,9,1),at(9,4,1),at(3,9,1),at(9,3,1),at(9,3,1),at(7,7,2),at(0,9,2),at(5,8,1),at(8,5,1),at(2,9,1),at(6,7,1),at(7,6,1),at(9,2,1),at(1,9,1),at(9,0,1),at(4,8,1),at(8,4,1),at(5,7,1),at(7,5,1),at(3,8,1),at(8,3,1),at(6,6,1),at(4,7,1),at(7,4,1),at(0,8,1),at(8,0,1),at(5,6,1),at(6,5,1),at(3,7,1),at(7,3,1),at(4,6,1),at(0,7,1),at(7,0,1),at(0,6,1),at(6,0,1),at(15,15,1),at(14,15,1),at(15,14,1),at(13,15,1),at(15,13,1),at(12,15,1),at(15,12,1),at(13,14,1),at(14,13,1),at(11,15,1),at(12,14,1),at(14,12,1),at(10,14,1),at(0,15,1)],_t=[$r(16,4),$r(32,4),$r(48,4),$r(64,2),at(1,1,4),at(0,1,4),at(1,0,3),at(1,0,3),at(0,0,1),at(0,0,1),at(0,0,1),at(0,0,1),at(0,0,1),at(0,0,1),at(0,0,1),at(0,0,1),$r(68,3),$r(76,3),$r(84,2),at(15,15,4),$r(88,2),$r(92,1),$r(94,4),at(15,2,4),$r(110,1),at(1,15,4),at(15,1,4),$r(112,4),$r(128,4),$r(144,4),$r(160,4),$r(176,4),$r(192,4),$r(208,3),$r(216,3),$r(224,3),$r(232,3),$r(240,3),$r(248,3),$r(256,3),$r(264,2),$r(268,2),$r(272,1),$r(274,2),$r(278,2),$r(282,1),at(5,1,4),$r(284,1),$r(286,1),$r(288,1),$r(290,1),at(1,4,4),at(4,1,4),$r(292,1),at(2,3,4),at(3,2,4),at(1,3,3),at(1,3,3),at(3,1,3),at(3,1,3),at(0,3,4),at(3,0,4),at(2,2,3),at(2,2,3),at(1,2,2),at(2,1,2),at(0,2,2),at(2,0,2),at(14,15,3),at(15,14,3),at(13,15,3),at(15,13,3),at(12,15,3),at(15,12,3),at(11,15,3),at(15,11,3),at(10,15,2),at(10,15,2),at(15,10,3),at(9,15,3),at(15,9,3),at(15,8,3),at(8,15,2),at(8,15,2),at(7,15,2),at(15,7,2),at(6,15,2),at(15,6,2),at(5,15,2),at(15,5,2),at(4,15,1),at(4,15,1),at(15,4,1),at(15,3,1),at(15,0,1),at(15,0,1),at(15,0,1),at(15,0,1),at(15,0,1),at(15,0,1),at(15,0,1),at(15,0,1),at(3,15,2),at(3,15,2),at(3,15,2),at(3,15,2),$r(294,4),$r(310,3),$r(318,3),$r(326,3),at(2,15,1),at(0,15,1),$r(334,2),$r(338,2),$r(342,2),$r(346,1),$r(348,2),$r(352,2),$r(356,1),$r(358,2),$r(362,2),$r(366,2),$r(370,2),at(14,3,4),$r(374,1),$r(376,1),$r(378,1),$r(380,1),$r(382,1),$r(384,1),$r(386,1),at(0,13,4),$r(388,1),$r(390,1),$r(392,1),at(3,12,4),$r(394,1),at(1,12,4),at(12,0,4),$r(396,1),at(14,2,3),at(14,2,3),at(2,14,4),at(1,14,4),at(13,3,4),at(2,13,4),at(13,2,4),at(13,1,4),at(3,11,4),$r(398,1),at(1,13,3),at(1,13,3),at(12,4,4),at(6,11,4),at(12,3,4),at(10,7,4),at(2,12,3),at(2,12,3),at(12,2,4),at(11,5,4),at(12,1,4),at(0,12,4),at(4,11,4),at(11,4,4),at(6,10,4),at(10,6,4),at(11,3,3),at(11,3,3),at(5,10,4),at(10,5,4),at(2,11,3),at(2,11,3),at(11,2,3),at(11,2,3),at(1,11,3),at(1,11,3),at(11,1,3),at(11,1,3),at(0,11,4),at(11,0,4),at(6,9,4),at(9,6,4),at(4,10,4),at(10,4,4),at(7,8,4),at(8,7,4),at(10,3,3),at(10,3,3),at(3,10,4),at(5,9,4),at(2,10,3),at(2,10,3),at(9,5,4),at(6,8,4),at(10,1,3),at(10,1,3),at(8,6,4),at(7,7,4),at(9,4,3),at(9,4,3),at(4,9,4),at(5,7,4),at(6,7,3),at(6,7,3),at(10,2,2),at(10,2,2),at(10,2,2),at(10,2,2),at(1,10,2),at(1,10,2),at(0,10,3),at(10,0,3),at(3,9,3),at(9,3,3),at(5,8,3),at(8,5,3),at(2,9,2),at(2,9,2),at(9,2,2),at(9,2,2),at(7,6,3),at(0,9,3),at(1,9,2),at(1,9,2),at(9,1,2),at(9,1,2),at(9,0,3),at(4,8,3),at(8,4,3),at(7,5,3),at(3,8,3),at(8,3,3),at(6,6,3),at(2,8,3),at(8,2,2),at(8,2,2),at(4,7,3),at(7,4,3),at(1,8,2),at(1,8,2),at(8,1,2),at(8,1,2),at(8,0,2),at(8,0,2),at(0,8,3),at(5,6,3),at(3,7,2),at(3,7,2),at(7,3,2),at(7,3,2),at(6,5,3),at(4,6,3),at(2,7,2),at(2,7,2),at(7,2,2),at(7,2,2),at(6,4,3),at(5,5,3),at(0,7,2),at(0,7,2),at(1,7,1),at(1,7,1),at(1,7,1),at(1,7,1),at(7,1,1),at(7,1,1),at(7,0,2),at(3,6,2),at(6,3,2),at(4,5,2),at(5,4,2),at(2,6,2),at(6,2,1),at(1,6,1),at(6,1,1),at(6,1,1),at(0,6,2),at(6,0,2),at(5,3,1),at(5,3,1),at(3,5,2),at(4,4,2),at(2,5,1),at(5,2,1),at(1,5,1),at(0,5,1),at(3,4,1),at(4,3,1),at(5,0,1),at(2,4,1),at(4,2,1),at(3,3,1),at(0,4,1),at(4,0,1),at(12,14,4),$r(400,1),at(13,14,3),at(13,14,3),at(14,9,3),at(14,9,3),at(14,10,4),at(13,9,4),at(14,14,2),at(14,14,2),at(14,14,2),at(14,14,2),at(14,13,3),at(14,13,3),at(14,11,3),at(14,11,3),at(11,14,2),at(11,14,2),at(12,13,2),at(12,13,2),at(13,12,3),at(13,11,3),at(10,14,2),at(10,14,2),at(12,12,2),at(12,12,2),at(10,13,3),at(13,10,3),at(7,14,3),at(10,12,3),at(12,10,2),at(12,10,2),at(12,9,3),at(7,13,3),at(5,14,2),at(5,14,2),at(11,13,1),at(11,13,1),at(11,13,1),at(11,13,1),at(9,14,1),at(9,14,1),at(11,12,2),at(12,11,2),at(8,14,2),at(14,8,2),at(9,13,2),at(14,7,2),at(11,11,2),at(8,13,2),at(13,8,2),at(6,14,2),at(14,6,1),at(9,12,1),at(10,11,2),at(11,10,2),at(14,5,2),at(13,7,2),at(4,14,1),at(4,14,1),at(14,4,2),at(8,12,2),at(12,8,1),at(3,14,1),at(6,13,1),at(6,13,1),at(13,6,2),at(9,11,2),at(11,9,2),at(10,10,2),at(14,1,1),at(14,1,1),at(13,4,1),at(13,4,1),at(11,8,2),at(10,9,2),at(7,11,1),at(7,11,1),at(11,7,2),at(13,0,2),at(0,14,1),at(14,0,1),at(5,13,1),at(13,5,1),at(7,12,1),at(12,7,1),at(4,13,1),at(8,11,1),at(9,10,1),at(6,12,1),at(12,6,1),at(3,13,1),at(5,12,1),at(12,5,1),at(8,10,1),at(10,8,1),at(9,9,1),at(4,12,1),at(11,6,1),at(7,10,1),at(5,11,1),at(8,9,1),at(9,8,1),at(7,9,1),at(9,7,1),at(8,8,1),at(14,12,1),at(13,13,1)],Tt=[$r(16,4),$r(32,4),$r(48,4),at(15,15,4),$r(64,4),$r(80,4),$r(96,4),$r(112,4),$r(128,4),$r(144,4),$r(160,3),$r(168,2),at(1,1,4),at(0,1,4),at(1,0,4),at(0,0,4),at(14,15,4),at(15,14,4),at(13,15,4),at(15,13,4),at(12,15,4),at(15,12,4),at(11,15,4),at(15,11,4),at(15,10,3),at(15,10,3),at(10,15,4),at(9,15,4),at(15,9,3),at(15,9,3),at(15,8,3),at(15,8,3),at(8,15,4),at(7,15,4),at(15,7,3),at(15,7,3),at(6,15,3),at(6,15,3),at(15,6,3),at(15,6,3),at(5,15,3),at(5,15,3),at(15,5,3),at(15,5,3),at(4,15,3),at(4,15,3),at(15,4,3),at(15,4,3),at(3,15,3),at(3,15,3),at(15,3,3),at(15,3,3),at(2,15,3),at(2,15,3),at(15,2,3),at(15,2,3),at(15,1,3),at(15,1,3),at(1,15,4),at(15,0,4),$r(172,3),$r(180,3),$r(188,3),$r(196,3),$r(204,4),$r(220,3),$r(228,3),$r(236,3),$r(244,2),$r(248,2),$r(252,2),$r(256,2),$r(260,2),$r(264,2),$r(268,2),$r(272,2),$r(276,2),$r(280,3),$r(288,2),$r(292,2),$r(296,2),$r(300,3),$r(308,2),$r(312,3),$r(320,1),$r(322,2),$r(326,2),$r(330,1),$r(332,2),$r(336,1),$r(338,1),$r(340,1),$r(342,1),$r(344,1),$r(346,1),$r(348,1),$r(350,1),$r(352,1),$r(354,1),$r(356,1),$r(358,1),$r(360,1),$r(362,1),$r(364,1),$r(366,1),$r(368,1),$r(370,2),$r(374,1),$r(376,2),at(7,3,4),$r(380,1),at(7,2,4),at(4,6,4),at(6,4,4),at(5,5,4),at(7,1,4),at(3,6,4),at(6,3,4),at(4,5,4),at(5,4,4),at(2,6,4),at(6,2,4),at(1,6,4),at(6,1,4),$r(382,1),at(3,5,4),at(5,3,4),at(4,4,4),at(2,5,4),at(5,2,4),at(1,5,4),$r(384,1),at(5,1,3),at(5,1,3),at(3,4,4),at(4,3,4),at(2,4,3),at(2,4,3),at(4,2,3),at(4,2,3),at(3,3,3),at(3,3,3),at(1,4,3),at(1,4,3),at(4,1,3),at(4,1,3),at(0,4,4),at(4,0,4),at(2,3,3),at(2,3,3),at(3,2,3),at(3,2,3),at(1,3,2),at(1,3,2),at(1,3,2),at(1,3,2),at(3,1,2),at(3,1,2),at(3,1,2),at(3,1,2),at(0,3,3),at(3,0,3),at(2,2,2),at(2,2,2),at(1,2,1),at(1,2,1),at(1,2,1),at(1,2,1),at(2,1,1),at(2,1,1),at(0,2,2),at(2,0,2),at(0,15,1),at(0,15,1),at(0,15,1),at(0,15,1),at(14,14,3),at(13,14,3),at(14,13,3),at(12,14,3),at(14,12,3),at(13,13,3),at(11,14,3),at(14,11,3),at(12,13,3),at(13,12,3),at(10,14,3),at(14,10,3),at(11,13,3),at(13,11,3),at(12,12,3),at(9,14,3),at(14,9,3),at(10,13,3),at(13,10,3),at(11,12,3),at(12,11,3),at(8,14,3),at(14,8,3),at(9,13,3),at(13,9,3),at(7,14,3),at(14,7,3),at(10,12,3),at(12,10,3),at(12,10,3),at(11,11,3),at(11,11,3),at(8,13,3),at(8,13,3),at(13,8,3),at(13,8,3),at(0,14,4),at(14,0,4),at(0,13,3),at(0,13,3),at(14,6,2),at(14,6,2),at(14,6,2),at(14,6,2),at(6,14,3),at(9,12,3),at(12,9,2),at(12,9,2),at(5,14,2),at(5,14,2),at(11,10,2),at(11,10,2),at(14,5,2),at(14,5,2),at(10,11,3),at(7,13,3),at(13,7,2),at(13,7,2),at(14,4,2),at(14,4,2),at(8,12,2),at(8,12,2),at(12,8,2),at(12,8,2),at(4,14,3),at(2,14,3),at(3,14,2),at(3,14,2),at(6,13,2),at(13,6,2),at(14,3,2),at(9,11,2),at(11,9,2),at(10,10,2),at(14,2,2),at(1,14,2),at(14,1,2),at(5,13,2),at(13,5,2),at(7,12,2),at(12,7,2),at(4,13,2),at(8,11,2),at(11,8,2),at(13,4,2),at(9,10,2),at(10,9,2),at(6,12,2),at(12,6,2),at(3,13,2),at(13,3,2),at(2,13,2),at(13,2,2),at(1,13,2),at(7,11,2),at(11,7,2),at(13,1,2),at(5,12,2),at(12,5,2),at(8,10,2),at(10,8,2),at(9,9,2),at(4,12,2),at(12,4,2),at(6,11,2),at(6,11,2),at(11,6,2),at(11,6,2),at(13,0,3),at(0,12,3),at(3,12,2),at(3,12,2),at(12,3,2),at(7,10,2),at(10,7,2),at(2,12,2),at(12,2,2),at(5,11,2),at(11,5,2),at(1,12,2),at(8,9,2),at(9,8,2),at(12,1,2),at(4,11,2),at(12,0,3),at(0,11,3),at(3,11,2),at(3,11,2),at(11,0,3),at(0,10,3),at(1,10,2),at(1,10,2),at(11,4,1),at(11,4,1),at(6,10,2),at(10,6,2),at(7,9,2),at(7,9,2),at(9,7,2),at(9,7,2),at(10,0,3),at(0,9,3),at(9,0,2),at(9,0,2),at(11,3,1),at(8,8,1),at(2,11,2),at(5,10,2),at(11,2,1),at(11,2,1),at(10,5,2),at(1,11,2),at(11,1,2),at(6,9,2),at(9,6,1),at(10,4,1),at(4,10,2),at(7,8,2),at(8,7,1),at(8,7,1),at(3,10,1),at(10,3,1),at(5,9,1),at(9,5,1),at(2,10,1),at(10,2,1),at(10,1,1),at(6,8,1),at(8,6,1),at(7,7,1),at(4,9,1),at(9,4,1),at(3,9,1),at(9,3,1),at(5,8,1),at(8,5,1),at(2,9,1),at(6,7,1),at(7,6,1),at(9,2,1),at(1,9,1),at(9,1,1),at(4,8,1),at(8,4,1),at(5,7,1),at(7,5,1),at(3,8,1),at(8,3,1),at(6,6,1),at(2,8,1),at(8,2,1),at(1,8,1),at(4,7,1),at(7,4,1),at(8,1,1),at(8,1,1),at(0,8,2),at(8,0,2),at(5,6,1),at(6,5,1),at(1,7,1),at(1,7,1),at(0,7,2),at(7,0,2),at(3,7,1),at(2,7,1),at(0,6,1),at(6,0,1),at(0,5,1),at(5,0,1)],yt=[rt,tt],gt=[new o(it,0,0),new o(st,0,3),new o(nt,0,3),new o(ot,0,3),null,new o(ft,0,3),new o(lt,0,4),new o(dt,0,4),new o(ct,0,4),new o(ht,0,4),new o(mt,0,4),new o(vt,0,4),new o(pt,0,4),new o(ut,0,4),null,new o(bt,0,4),new o(_t,1,4),new o(_t,2,4),new o(_t,3,4),new o(_t,4,4),new o(_t,6,4),new o(_t,8,4),new o(_t,10,4),new o(_t,13,4),new o(Tt,4,4),new o(Tt,5,4),new o(Tt,6,4),new o(Tt,7,4),new o(Tt,8,4),new o(Tt,9,4),new o(Tt,11,4),new o(Tt,13,4)];
var wt=function(){function e(){this.tmp_imdct36=new Float64Array(18),this.tmp_dctIV=new Float64Array(18),this.tmp_sdctII=new Float64Array(9)}function r(e,r,t){var a,i,h,m,v,p,u,b,_,T,y,g,w,E,I,A,S,O,k,P,R,C,U,L,M,D,F,x,N,B,X,z,V,W;a=e[3]+e[5],i=e[3]-e[5],h=e[6]+e[2],m=e[6]-e[2],v=e[1]+e[7],p=e[1]-e[7],u=e[8]+e[0],b=e[8]-e[0],_=a+h,T=a-h,y=a-u,g=h-u,w=_+u,E=i-m,I=E+b,A=m+b,S=i-b,O=i+m,F=O*-f,x=S*-s,N=A*-l,B=I*-n,X=p*-n,z=g*-c,V=y*-d,W=T*-o,k=e[4]+v,P=2*e[4]-v,R=P+z,C=P-z,U=P+V,L=X+N,M=X-N,D=X+x,r[t+0]=k+w,r[t+2]=F-D,r[t+4]=W-R,r[t+6]=B,r[t+8]=C-V,r[t+10]=M-x,r[t+12]=w-2*k,r[t+14]=L+F,r[t+16]=U+W}e.prototype.imdct36=function(e,r){var t=this.tmp_imdct36;this.dctIV(e,t);for(var a=0;9>a;++a)r[a]=t[9+a];for(var a=9;27>a;++a)r[a]=-t[36-(9+a)-1];for(var a=27;36>a;++a)r[a]=-t[a-27]};var t=[];for(i=0;18>i;i++)t[i]=2*Math.cos(Math.PI*(2*i+1)/72);e.prototype.dctIV=function(e,r){for(var a=this.tmp_dctIV,i=0;18>i;++i)a[i]=e[i]*t[i];this.sdctII(a,r),r[0]/=2;for(var i=1;18>i;++i)r[i]=r[i]/2-r[i-1]};for(var a=[],i=0;9>i;++i)a[i]=2*Math.cos(Math.PI*(2*i+1)/36);e.prototype.sdctII=function(e,t){for(var i=this.tmp_sdctII,s=0;9>s;++s)i[s]=e[s]+e[18-s-1];r(i,t,0);for(var s=0;9>s;++s)i[s]=(e[s]-e[18-s-1])*a[s];r(i,t,1);for(var s=3;18>s;s+=2)t[s]-=t[s-2]};var s=2*Math.cos(1*Math.PI/18),n=2*Math.cos(3*Math.PI/18),o=2*Math.cos(4*Math.PI/18),f=2*Math.cos(5*Math.PI/18),l=2*Math.cos(7*Math.PI/18),d=2*Math.cos(8*Math.PI/18),c=2*Math.cos(16*Math.PI/18);return e}();const Et=[[.608761429,-.923879533,-.130526192,.991444861,-.382683432,-.79335334],[-.79335334,.382683432,.991444861,.130526192,-.923879533,-.608761429],[.382683432,-.923879533,.923879533,-.382683432,-.382683432,.923879533],[-.923879533,-.382683432,.382683432,.923879533,.923879533,.382683432],[.130526192,-.382683432,.608761429,-.79335334,.923879533,-.991444861],[-.991444861,-.923879533,-.79335334,-.608761429,-.382683432,-.130526192]];t.layers[3]=h,h.prototype.decode=function(e,r){var t=r.header,a=0,i=0,s=t.nchannels(),n=t.flags&y.LSF_EXT?1===s?9:17:1===s?17:32;if(e.next_frame-e.nextByte()<n)throw e.md_len=0,new Error("Bad frame length");t.flags&y.PROTECTION;var o=this.sideInfo(e,s,t.flags&y.LSF_EXT),f=o.si,l=(o.data_bitlen,o.priv_bitlen);t.flags|=l,t.private_bits|=f.private_bits;var d=e.copy();d.seek(8*e.next_frame);var c=d.read(16);65506===(65510&c)&&(0===(1&c)&&d.advance(16),d.advance(16),a=d.read(8&c?9:8));var h=e.next_frame-e.nextByte();a>f.main_data_begin+h&&(a=0);var m,i=f.main_data_begin+h-a,v=0;if(0===f.main_data_begin)m=e.stream,e.md_len=0,v=i;else{if(f.main_data_begin>e.md_len)throw new Error("bad main_data_begin pointer");var p=e.md_len;if(i>f.main_data_begin){if(e.md_len+i-f.main_data_begin>I)throw new Error("Assertion failed: (stream.md_len + md_len - si.main_data_begin <= MAD_BUFFER_MDLEN)");v=i-f.main_data_begin,this.memcpy(e.main_data,e.md_len,e.stream.stream,e.nextByte(),v),e.md_len+=v}m=new AV.Bitstream(AV.Stream.fromBuffer(new AV.Buffer(e.main_data))),m.advance(8*(p-f.main_data_begin))}var u=h-v;if(this.decodeMainData(m,r,f,s),u>=a)this.memcpy(e.main_data,0,e.stream.stream,e.next_frame-a,a),e.md_len=a;else{if(i<f.main_data_begin){var b=f.main_data_begin-i;b+u>a&&(b=a-u),b<e.md_len&&(this.memcpy(e.main_data,0,e.main_data,e.md_len-b,b),e.md_len=b)}else e.md_len=0;this.memcpy(e.main_data,e.md_len,e.stream.stream,e.next_frame-u,u),e.md_len+=u}},h.prototype.memcpy=function(e,r,t,a,i){var s;return s=t.subarray?t.subarray(a,a+i):t.peekBuffer(a-t.offset,i).data,e.set(s,r),e},h.prototype.sideInfo=function(e,r,t){var a=this.si,i=0,s=t?1===r?1:2:1===r?5:3;a.main_data_begin=e.read(t?8:9),a.private_bits=e.read(s);var n=1;if(!t){n=2;for(var o=0;r>o;++o)a.scfsi[o]=e.read(4)}for(var f=0;n>f;f++)for(var l=a.gr[f],o=0;r>o;o++){var d=l.ch[o];if(d.part2_3_length=e.read(12),d.big_values=e.read(9),d.global_gain=e.read(8),d.scalefac_compress=e.read(t?9:4),i+=d.part2_3_length,d.big_values>288)throw new Error("bad big_values count");if(d.flags=0,e.read(1)){if(d.block_type=e.read(2),0===d.block_type)throw new Error("reserved block_type");if(!t&&2===d.block_type&&a.scfsi[o])throw new Error("bad scalefactor selection info");d.region0_count=7,d.region1_count=36,e.read(1)?d.flags|=Br:2===d.block_type&&(d.region0_count=8);for(var c=0;2>c;c++)d.table_select[c]=e.read(5);for(var c=0;3>c;c++)d.subblock_gain[c]=e.read(3)}else{d.block_type=0;for(var c=0;3>c;c++)d.table_select[c]=e.read(5);d.region0_count=e.read(4),d.region1_count=e.read(3)}d.flags|=e.read(t?2:3)}return{si:a,data_bitlen:i,priv_bitlen:s}},h.prototype.decodeMainData=function(e,r,t,a){var i=r.header,s=i.samplerate;i.flags&y.MPEG_2_5_EXT&&(s*=2);var n=(s>>7&15)+(s>>15&1)-8;i.flags&y.MPEG_2_5_EXT&&(n+=3);for(var o=i.flags&y.LSF_EXT?1:2,f=this.xr,l=0;o>l;++l){for(var d=t.gr[l],c=[],h=0,m=0;a>m;++m){var v,p=d.ch[m];c[m]=Cr[n].l,2===p.block_type&&(c[m]=p.flags&Br?Cr[n].m:Cr[n].s),v=i.flags&y.LSF_EXT?this.scalefactors_lsf(e,p,0===m?0:t.gr[1].ch[1],i.mode_extension):this.scalefactors(e,p,t.gr[0].ch[m],0===l?0:t.scfsi[m]),this.huffmanDecode(e,f[m],p,c[m],v)}i.mode===w.JOINT_STEREO&&0!==i.mode_extension&&this.stereo(f,t.gr,l,i,c[0]);for(var m=0;a>m;m++){var u,b,_,p=d.ch[m],T=r.sbsample[m].slice(18*l),h=0,g=this.output;if(2===p.block_type?(this.reorder(f[m],p,c[m]),p.flags&Br&&this.aliasreduce(f[m],36)):this.aliasreduce(f[m],576),2!==p.block_type||p.flags&Br){var E=p.block_type;p.flags&Br&&(E=0);for(var u=0;2>u;++u,h+=18)this.imdct_l(f[m].subarray(h,h+18),g,E),this.overlap(g,r.overlap[m][u],T,u)}else for(var u=0;2>u;++u,h+=18)this.imdct_s(f[m].subarray(h,h+18),g),this.overlap(g,r.overlap[m][u],T,u);this.freqinver(T,1);for(var b=576;b>36&&0===f[m][b-1];)--b;if(_=32-((576-b)/18<<0),2!==p.block_type)for(var u=2;_>u;++u,h+=18)this.imdct_l(f[m].subarray(h,h+18),g,p.block_type),this.overlap(g,r.overlap[m][u],T,u),1&u&&this.freqinver(T,u);else for(var u=2;_>u;++u,h+=18)this.imdct_s(f[m].subarray(h,h+18),g),this.overlap(g,r.overlap[m][u],T,u),1&u&&this.freqinver(T,u);for(var u=_;32>u;++u)this.overlap_z(r.overlap[m][u],T,u),1&u&&this.freqinver(T,u)}}},h.prototype.scalefactors=function(e,r,t,a){var i,s=e.offset(),n=qr[r.scalefac_compress].slen1,o=qr[r.scalefac_compress].slen2;if(2===r.block_type){i=0;for(var f=r.flags&Br?17:18;f--;)r.scalefac[i++]=e.read(n);for(f=18;f--;)r.scalefac[i++]=e.read(o);for(f=3;f--;)r.scalefac[i++]=0}else{if(8&a)for(var i=0;6>i;++i)r.scalefac[i]=t.scalefac[i];else for(var i=0;6>i;++i)r.scalefac[i]=e.read(n);if(4&a)for(var i=6;11>i;++i)r.scalefac[i]=t.scalefac[i];else for(var i=6;11>i;++i)r.scalefac[i]=e.read(n);if(2&a)for(var i=11;16>i;++i)r.scalefac[i]=t.scalefac[i];else for(var i=11;16>i;++i)r.scalefac[i]=e.read(o);if(1&a)for(var i=16;21>i;++i)r.scalefac[i]=t.scalefac[i];else for(var i=16;21>i;++i)r.scalefac[i]=e.read(o);r.scalefac[21]=0}return e.offset()-s},h.prototype.scalefactors_lsf=function(e,r,t,a){var i,s=e.offset(),n=r.scalefac_compress,o=2===r.block_type?r.flags&Br?2:1:0,f=new Int32Array(4);if(a&Xr&&t){n>>>=1,180>n?(f[0]=n/36,f[1]=n%36/6,f[2]=n%36%6,f[3]=0,i=Hr[3][o]):244>n?(n-=180,f[0]=n%64>>>4,f[1]=n%16>>>2,f[2]=n%4,f[3]=0,i=Hr[4][o]):(n-=244,f[0]=n/3,f[1]=n%3,f[2]=0,f[3]=0,i=Hr[5][o]);for(var l=0,d=0;4>d;++d)for(var c=(1<<f[d])-1,h=0;h<i[d];++h){var m=e.read(f[d]);r.scalefac[l]=m,t.scalefac[l++]=m===c?1:0}for(;39>l;)r.scalefac[l]=0,t.scalefac[l++]=0}else{400>n?(f[0]=(n>>>4)/5,f[1]=(n>>>4)%5,f[2]=n%16>>>2,f[3]=n%4,i=Hr[0][o]):500>n?(n-=400,f[0]=(n>>>2)/5,f[1]=(n>>>2)%5,f[2]=n%4,f[3]=0,i=Hr[1][o]):(n-=500,f[0]=n/3,f[1]=n%3,f[2]=0,f[3]=0,r.flags|=Nr,i=Hr[2][o]);for(var l=0,d=0;4>d;d++)for(var h=0;h<i[d];h++)r.scalefac[l++]=e.read(f[d]);for(;39>l;)r.scalefac[l++]=0}return e.offset()-s},h.prototype.huffmanDecode=function(e,r,t,a,i){var s=this._exponents,n=0,o=t.part2_3_length-i;if(0>o)throw new Error("bad audio data length");this.exponents(t,a,s);var f=e.copy();e.advance(o);var l=8-f.bitPosition;l+=7+(24-l)&-8;var d=f.read(l);o-=l;var c=0,h=0,m=this.reqcache,v=c+a[n++],p=t.region0_count+1,u=gt[t.table_select[h]],b=u.table,_=u.linbits,T=u.startbits;if("undefined"==typeof b)throw new Error("bad Huffman table select");for(var y=0,g=s[y++],w=0,E=t.big_values;E--&&l+o>0;){if(c===v){if(v+=a[n++],0===--p&&(p=0===h?t.region1_count+1:0,u=gt[t.table_select[++h]],b=u.table,_=u.linbits,T=u.startbits,"undefined"==typeof b))throw new Error("bad Huffman table select");g!==s[y]&&(g=s[y],w=0),++y}if(21>l){var I=10+(21-l)&-8;d=d<<I|f.read(I),l+=I,o-=I}for(var A=T,S=b[d>>l-A&(1<<A)-1];!S.final;)l-=A,A=S.ptr.bits,S=b[S.ptr.offset+(d>>l-A&(1<<A)-1)];if(l-=S.value.hlen,_){var O=S.value.x,k=!1;switch(O){case 0:r[c]=0;break;case 15:_+2>l&&(d=d<<16|f.read(16),l+=16,o-=16),O+=d>>l-_&(1<<_)-1,l-=_,R=this.requantize(O,g),k=!0;break;default:w&1<<O?R=m[O]:(w|=1<<O,R=m[O]=this.requantize(O,g)),k=!0}k&&(r[c]=d&1<<l-- -1?-R:R),O=S.value.y;var P=!1;switch(O){case 0:r[c+1]=0;break;case 15:_+1>l&&(d=d<<16|f.read(16),l+=16,o-=16),O+=d>>l-_&(1<<_)-1,l-=_,R=this.requantize(O,g),P=!0;break;default:w&1<<O?R=m[O]:(w|=1<<O,m[O]=this.requantize(O,g),R=m[O]),P=!0}P&&(r[c+1]=d&1<<l-- -1?-R:R)}else{var O=S.value.x;0===O?r[c]=0:(w&1<<O?R=m[O]:(w|=1<<O,R=m[O]=this.requantize(O,g)),r[c]=d&1<<l-- -1?-R:R),O=S.value.y,0===O?r[c+1]=0:(w&1<<O?R=m[O]:(w|=1<<O,R=m[O]=this.requantize(O,g)),r[c+1]=d&1<<l-- -1?-R:R)}c+=2}if(0>l+o)throw new Error("Huffman data overrun");for(var b=yt[t.flags&Fr],R=this.requantize(1,g);l+o>0&&572>=c;){10>l&&(d=d<<16|f.read(16),l+=16,o-=16);var C=b[d>>l-4&15];C.final||(l-=4,C=b[C.ptr.offset+(d>>l-C.ptr.bits&(1<<C.ptr.bits)-1)]),l-=C.value.hlen,c===v&&(v+=a[n++],g!==s[y]&&(g=s[y],R=this.requantize(1,g)),++y),r[c]=C.value.v?d&1<<l-- -1?-R:R:0,r[c+1]=C.value.w?d&1<<l-- -1?-R:R:0,c+=2,c===v&&(v+=a[n++],g!==s[y]&&(g=s[y],R=this.requantize(1,g)),++y),r[c]=C.value.x?d&1<<l-- -1?-R:R:0,r[c+1]=C.value.y?d&1<<l-- -1?-R:R:0,c+=2,0>l+o&&(c-=4)}if(-o>64)throw new Error("assertion failed: (-bits_left <= BUFFER_GUARD * CHAR_BIT)");for(;576>c;)r[c]=0,r[c+1]=0,c+=2},h.prototype.requantize=function(e,r){var t=r%4>>0;r=r/4>>0;var a=Math.pow(e,4/3);return a*=Math.pow(2,r/4),t&&(a*=Math.pow(2,t/4)),0>r&&(a/=Math.pow(2,.75*-r)),a},h.prototype.exponents=function(e,r,t){var a=e.global_gain-210,i=e.flags&xr?2:1;if(2===e.block_type){var s=0,n=0;if(e.flags&Br)for(var o=e.flags&Nr?-1:0;36>n;)t[s]=a-(e.scalefac[s]+(Ur[s]&o)<<i),n+=r[s++];for(var f=a-8*e.subblock_gain[0],l=a-8*e.subblock_gain[1],d=a-8*e.subblock_gain[2];576>n;)t[s+0]=f-(e.scalefac[s+0]<<i),t[s+1]=l-(e.scalefac[s+1]<<i),t[s+2]=d-(e.scalefac[s+2]<<i),n+=3*r[s],s+=3}else if(e.flags&Nr)for(var s=0;22>s;s++)t[s]=a-(e.scalefac[s]+Ur[s]<<i);else for(var s=0;22>s;s++)t[s]=a-(e.scalefac[s]<<i)},h.prototype.stereo=function(e,r,t,a,i){var s,n,o,f,l=r[t],d=this.modes;if(l.ch[0].block_type!==l.ch[1].block_type||(l.ch[0].flags&Br)!==(l.ch[1].flags&Br))throw new Error("incompatible stereo block_type");for(var f=0;39>f;f++)d[f]=a.mode_extension;if(a.mode_extension&Xr){var c=l.ch[1],h=e[1];if(a.flags|=y.I_STEREO,2===c.block_type){var m,v,p,u,b=new Uint32Array(3);if(m=v=p=b[0]=b[1]=b[2]=0,s=n=0,c.flags&Br){for(;36>n;){o=i[s++];for(var f=0;o>f;++f)if(h[f]){m=s;break}h+=o,n+=o}v=s}for(var u=0;576>n;){for(o=i[s++],f=0;o>f;++f)if(h[f]){p=b[u]=s;break}h+=o,n+=o,u=(u+1)%3}for(p&&(m=v),f=0;m>f;++f)d[f]=-2&a.mode_extension;for(u=0,f=v;p>f;++f)f<b[u]&&(d[f]=-2&a.mode_extension),u=(u+1)%3}else{var b=0;for(s=n=0;576>n;n+=o){for(o=i[s++],f=0;o>f;++f)if(h[f]){b=s;break}h+=o}for(f=0;b>f;++f)d[f]=-2&a.mode_extension}if(a.flags&y.LSF_EXT){var _=r[t+1].ch[1].scalefac,T=Yr[1&c.scalefac_compress];for(s=n=0;576>n;++s,n+=o)if(o=i[s],d[s]&Xr)if(_[s])d[s]&=-2;else for(is_pos=c.scalefac[s],f=0;o>f;++f){var g=e[0][n+f];if(0===is_pos)e[1][n+f]=g;else{var w=g*T[(is_pos-1)/2];1&is_pos?(e[0][n+f]=w,e[1][n+f]=g):e[1][n+f]=w}}}else for(s=n=0;576>n;++s,n+=o)if(o=i[s],d[s]&Xr)if(is_pos=c.scalefac[s],is_pos>=7)d[s]&=-2;else for(f=0;o>f;++f){var g=e[0][n+f];e[0][n+f]=g*Gr[is_pos],e[1][n+f]=g*Gr[6-is_pos]}}if(a.mode_extension&zr){a.flags|=y.MS_STEREO;var E=Lr[1];for(s=n=0;576>n;++s,n+=o)if(o=i[s],d[s]===zr)for(f=0;o>f;++f){var I=e[0][n+f],A=e[1][n+f];e[0][n+f]=(I+A)*E,e[1][n+f]=(I-A)*E}}},h.prototype.aliasreduce=function(e,r){for(var t=18;r>t;t+=18)for(var a=0;8>a;++a){var i=e[t-a-1],s=e[t+a];e[t-a-1]=i*Mr[a]-s*Dr[a],e[t+a]=s*Mr[a]+i*Dr[a]}},h.prototype.imdct_l=function(e,r,t){switch(this.imdct.imdct36(e,r),t){case 0:for(var a=0;36>a;++a)r[a]=r[a]*Vr[a];break;case 1:for(var a=0;18>a;++a)r[a]=r[a]*Vr[a];for(var a=24;30>a;++a)r[a]=r[a]*Wr[a-18];for(var a=30;36>a;++a)r[a]=0;break;case 3:for(var a=0;6>a;++a)r[a]=0;for(var a=6;12>a;++a)r[a]=r[a]*Wr[a-6];for(var a=18;36>a;++a)r[a]=r[a]*Vr[a]}},h.prototype.imdct_s=function(e,r){for(var t,a,i=0,s=0,n=new Float64Array(36),o=0;3>o;++o){for(var f=0,l=0;3>l;++l)a=e[s+0]*Et[f][0]+e[s+1]*Et[f][1]+e[s+2]*Et[f][2]+e[s+3]*Et[f][3]+e[s+4]*Et[f][4]+e[s+5]*Et[f][5],n[i+l+0]=a,n[i+5-l]=-n[i+l+0],++f,a=e[s+0]*Et[f][0]+e[s+1]*Et[f][1]+e[s+2]*Et[f][2]+e[s+3]*Et[f][3]+e[s+4]*Et[f][4]+e[s+5]*Et[f][5],n[i+l+6]=a,n[i+11-l]=n[i+l+6],++f;i+=12,s+=6}i=0;for(var t=0,l=0;6>l;++l)r[l+0]=0,r[l+6]=n[i+0+0]*Wr[t+0],a=n[i+0+6]*Wr[t+6]+n[i+12+0]*Wr[t+0],r[l+12]=a,a=n[i+12+6]*Wr[t+6]+n[i+24+0]*Wr[t+0],r[l+18]=a,r[l+24]=n[i+24+6]*Wr[t+6],r[l+30]=0,++i,++t},h.prototype.overlap=function(e,r,t,a){for(var i=0;18>i;++i)t[i][a]=e[i]+r[i],r[i]=e[i+18]},h.prototype.freqinver=function(e,r){for(var t=1;18>t;t+=2)e[t][r]=-e[t][r]},h.prototype.overlap_z=function(e,r,t){for(var a=0;18>a;++a)r[a][t]=e[a],e[a]=0},h.prototype.reorder=function(e,r,t){var a=0,i=this.tmp,s=new Uint32Array(3),n=new Uint32Array(3),o=0;if(r.flags&Br)for(var o=2,l=0;36>l;)l+=t[a++];for(var d=0;3>d;++d)s[d]=o,n[d]=0;f=t[a++],d=0;for(var l=18*o;576>l;++l)0===f--&&(f=t[a++]-1,d=(d+1)%3),i[s[d]][d][n[d]++]=e[l],6===n[d]&&(n[d]=0,++s[d]);for(var c=this.tmp2,h=0,m=0;32>m;m++)for(var v=0;3>v;v++)for(var p=0;6>p;p++)c[h++]=i[m][v][p];for(var u=576-18*o,m=0;u>m;m++)e[18*o+m]=c[o+m]};AV.Decoder.extend(function(){AV.Decoder.register("mp3",this),this.prototype.init=function(){this.mp3_stream=new e(this.bitstream),this.frame=new t,this.synth=new i,this.seeking=!1},this.prototype.readChunk=function(){var e=this.mp3_stream,r=this.frame,t=this.synth;if(this.seeking){for(;;)try{r.decode(e);break}catch(a){if(a instanceof AV.UnderflowError)throw a}this.seeking=!1}else r.decode(e);t.frame(r);for(var i=t.pcm.samples,s=t.pcm.channels,n=t.pcm.length,o=new Float32Array(n*s),f=0,l=0;n>l;l++)for(var d=0;s>d;d++)o[f++]=i[d][l];return o},this.prototype.seek=function(e){var t;this.demuxer.seekPoints.length>0?(e=this._super(e),t=this.stream.offset):t=e*this.format.bitrate/8/this.format.sampleRate,this.mp3_stream.reset(t);for(var a=0;4096>a;a++){for(var i=t+a,s=0;3>s;s++){this.mp3_stream.reset(i);try{var n=r.decode(this.mp3_stream)}catch(o){break}var f=n.framesize();if(null==f)break;i+=f}if(3===s)break}return 3!==s&&(a=0),this.mp3_stream.reset(t+a),0===this.demuxer.seekPoints.length&&(e=this.stream.offset/(this.format.bitrate/8)*this.format.sampleRate),this.seeking=!0,e}})}();